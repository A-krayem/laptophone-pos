<?php
/*
 * @ https://EasyToYou.eu - IonCube v11 Decoder Online
 * @ PHP 5.6
 * @ Decoder version: 1.0.4
 * @ Release: 02/06/2020
 *
 * @ ZendGuard Decoder PHP 5.6
 */

// Decoded file for php version 53.
echo "<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <link rel=\"icon\" type=\"image/png\" href=\"resources/favicon.png\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    \r\n    <script src=\"libraries/jquery-3.1.1.min.js\" type=\"text/javascript\"></script>\r\n    <script src=\"application/mvc/views/reports/bootstrap-5.3.2-dist/popper.min.js\"></script>\r\n    <script src=\"application/mvc/views/reports/bootstrap-5.3.2-dist/js/bootstrap.min.js\" type=\"text/javascript\"></script>\r\n    <script src=\"application/mvc/views/reports/datatable/datatables.min.js\" type=\"text/javascript\"></script>\r\n    <script src=\"libraries/echarts-master/dist/echarts.min.js\" type=\"text/javascript\"></script>\r\n    <script src=\"application/mvc/views/reports/dataTables.bootstrap5.min.js\" type=\"text/javascript\"></script>\r\n    <script src=\"application/mvc/views/reports/daterangepicker-master/moment.min.js\" type=\"text/javascript\"></script>\r\n    <script src=\"application/mvc/views/reports/daterangepicker-master/daterangepicker.js\" type=\"text/javascript\"></script>\r\n    \r\n    <script src=\"libraries/bootstrap-plugins/datepicker-master/dist/js/bootstrap-datepicker.min.js\" type=\"text/javascript\"></script>\r\n    <link href=\"libraries/bootstrap-plugins/datepicker-master/dist/css/bootstrap-datepicker.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n    \r\n    <script src=\"application/mvc/views/custom_libraries/javascripts/jquery-confirm.min.js\"\r\n        type=\"text/javascript\"></script>\r\n    <link href=\"application/mvc/views/custom_libraries/css/jquery-confirm.min.css\" rel=\"stylesheet\" type=\"text/css\" />\r\n    \r\n    <link href=\"application/mvc/views/reports/bootstrap-5.3.2-dist/css/bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n    <link href=\"https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n    <link href=\"application/mvc/views/reports/daterangepicker-master/daterangepicker.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n    \r\n    \r\n    \r\n    <script type=\"text/javascript\" src=\"https://cdn.datatables.net/buttons/2.3.6/js/dataTables.buttons.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"https://cdn.datatables.net/buttons/2.3.6/js/buttons.flash.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"https://cdn.datatables.net/buttons/2.3.6/js/buttons.html5.min.js\"></script>\r\n    <script type=\"text/javascript\" src=\"https://cdn.datatables.net/buttons/2.3.6/js/buttons.print.min.js\"></script>\r\n    \r\n    \r\n    <title>Dashboard</title>\r\n    \r\n    <style type=\"text/css\">\r\n       .table tbody tr td {\r\n        padding: 5px !important;\r\n      }\r\n      \r\n      .table thead {\r\n        font-size: 15px;\r\n      }\r\n      .table tbody {\r\n        font-size: 14px;\r\n      }\r\n      \r\n      label{\r\n          color: #000 !important;\r\n      }\r\n      \r\n      .dataTables_wrapper .dataTables_paginate .paginate_button a {\r\n        padding: 5px 10px;\r\n        font-size: 0.8em;\r\n      }\r\n    </style>\r\n    \r\n    <script type=\"text/javascript\">\r\n        \r\n        var daily_interval=1;\r\n        var myChart;\r\n        var option;\r\n        function edit_shareholder(id){\r\n            var _data=[];\r\n            \$.getJSON(\"?r=reports_shareholders&f=get_shareholder_by_id&p0=\"+id, function (data) {\r\n                _data=data;\r\n            }).done(function () {\r\n                add_new_shareholder(_data);\r\n            }); \r\n        }\r\n        \r\n        function show_invoice_error(date){\r\n            show_error_details(date);\r\n        }\r\n        \r\n        function delete_completely(id){\r\n            \r\n            \$.confirm({\r\n                title: 'Permanently remove from the system!',\r\n                content: 'Are you sure!',\r\n                buttons: {\r\n                    Cancel: {\r\n                        btnClass: 'btn-blue',\r\n                        action: function(){\r\n                             \r\n                        }\r\n                    },\r\n                    Delete: {\r\n                        btnClass: 'btn-red any-other-class', // multiple classes.\r\n                        action: function(){\r\n                            var _data=[];\r\n                            \$.getJSON(\"?r=reports_shareholders&f=delete_completely&p0=\"+id, function (data) {\r\n                                _data=data;\r\n                            }).done(function () {\r\n                                 location.reload();\r\n                            }); \r\n                        }\r\n                    },\r\n                }\r\n            });\r\n            \r\n            \r\n        }\r\n        \r\n        \r\n        \r\n        function add_new_shareholder(data){\r\n            var content =\r\n            '<div class=\"modal modal-xxl\" data-bs-backdrop=\"static\" id=\"shareholder_modal\" tabindex=\"-1\" aria-labelledby=\"shareholder_modalLabel\" aria-hidden=\"true\">\\n\\\r\n                <div class=\"modal-dialog\">\\n\\\r\n                  <div class=\"modal-content\">\\n\\\r\n                    <div class=\"modal-header\">\\n\\\r\n                      <h5 class=\"modal-title\" id=\"shareholder_modalLabel\">Add New Shareholder</h5>\\n\\\r\n                      <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\\n\\\r\n                    </div>\\n\\\r\n                    <div class=\"modal-body\">\\n\\\r\n                        <form id=\"newshareholder_form\" action=\"\" method=\"post\" enctype=\"multipart/form-data\" >\\n\\\r\n                            <input type=\"hidden\" id=\"id_to_edit\" name=\"id_to_edit\" value=\"0\" />\\n\\\r\n                            <div class=\"row\">\\n\\\r\n                                <div class=\"col-lg-12\">\\n\\\r\n                                    <div class=\"form-group\">\\n\\\r\n                                        <label for=\"sh_name\"><b>NAME</b></label>\\n\\\r\n                                        <input type=\"text\" value=\"\" required id=\"sh_name\" name=\"sh_name\" class=\"form-control\" style=\"width:100%\" />\\n\\\r\n                                    </div>\\n\\\r\n                                </div>\\n\\\r\n                            </div>\\n\\\r\n                            <div class=\"row mt-2\">\\n\\\r\n                                <div class=\"col-lg-12\">\\n\\\r\n                                    <div class=\"form-group\">\\n\\\r\n                                        <label for=\"sh_name\"><b>PERCENTAGE</b></label>\\n\\\r\n                                        <input type=\"number\" value=\"\" required id=\"sh_per\" name=\"sh_per\" class=\"form-control\" style=\"width:100%\" />\\n\\\r\n                                    </div>\\n\\\r\n                                </div>\\n\\\r\n                            </div>\\n\\\r\n                            <div class=\"row mt-2\">\\n\\\r\n                                <div class=\"col-lg-12\">\\n\\\r\n                                    <div class=\"form-group\">\\n\\\r\n                                        <label for=\"active_date\"><b>ACTIVE DATE</b></label>\\n\\\r\n                                        <input type=\"text\" value=\"\" required id=\"active_date\" name=\"active_date\" class=\"form-control\" style=\"width:100%\" />\\n\\\r\n                                    </div>\\n\\\r\n                                </div>\\n\\\r\n                            </div>\\n\\\r\n                            <div class=\"row mt-3\">\\n\\\r\n                                <div class=\"col-lg-12\">\\n\\\r\n                                    <input id=\"sh_submit_btn\" type=\"submit\" class=\"btn btn-primary\" style=\"width:100%\" /></button>\\n\\\r\n                                </div>\\n\\\r\n                            </div>\\n\\\r\n                        </form>\\n\\\r\n                    </div>\\n\\\r\n                  </div>\\n\\\r\n                </div>\\n\\\r\n              </div>';\r\n            \$(\"#shareholder_modal\").modal('hide');\r\n            \$(\"body\").append(content);\r\n            \$('#shareholder_modal').on('show.bs.modal', function (e) {\r\n\r\n            });\r\n\r\n            \$('#shareholder_modal').on('shown.bs.modal', function (e) { \r\n                \$(\"#sh_name\").focus();\r\n                \r\n                \r\n                \$('#active_date').datepicker({\r\n                    format: 'yyyy-mm-dd',\r\n                    autoclose: true,\r\n\r\n                });\r\n                \$('#active_date').datepicker(\"setDate\", new Date());\r\n                \$('#active_date').datepicker().on('changeDate', function (ev) {\r\n\r\n                }).on('hide show', function (event) {\r\n                    event.preventDefault();\r\n                    event.stopPropagation();\r\n                });\r\n    \r\n\r\n                if(data.length>0){\r\n                    \$(\"#id_to_edit\").val(data[0].id);\r\n                    \$(\"#sh_name\").val(data[0].name);\r\n                    \$(\"#sh_per\").val(data[0].percentage);\r\n                    \$('#active_date').datepicker(\"setDate\", data[0].active_date);\r\n                    \$('#active_date').prop(\"disabled\", true);\r\n                }else{\r\n                    \$('#active_date').datepicker(\"setDate\", new Date());\r\n                }\r\n                \r\n                submitshareholder_form();\r\n            });\r\n\r\n            \$('#shareholder_modal').on('hide.bs.modal', function (e) {\r\n                \$(\"#shareholder_modal\").remove();\r\n            });\r\n            \$('#shareholder_modal').modal('show');\r\n        }\r\n        \r\n        function submitshareholder_form(){\r\n            \$(\"#newshareholder_form\").on('submit', (function (e) {\r\n                e.preventDefault();\r\n                \$(\"#sh_submit_btn\").prop(\"disabled\",true);\r\n                \$.ajax({\r\n                    url: \"?r=reports_shareholders&f=add_new_shareholder\",\r\n                    type: \"POST\",\r\n                    data: new FormData(this),\r\n                    contentType: false,\r\n                    cache: false,\r\n                    processData: false,\r\n                    dataType: 'json',\r\n                    success: function (data)\r\n                    {\r\n                        \$(\"#shareholder_modal\").modal('hide');\r\n                        \r\n                        \r\n                        var table = \$('#shareholders_table').DataTable();\r\n                        table.ajax.url(\"?r=reports_shareholders&f=get_shareholders\").load(function () { \r\n                            location.reload();\r\n                            //drawDiagrams_profit_distribution(\$(\"#profits_distribution\").val());\r\n                        },false);\r\n    \r\n                    }\r\n                });\r\n            }));\r\n        }\r\n        \r\n        function show_error_details(date){\r\n            var content =\r\n            '<div class=\"modal modal-lg\" data-bs-backdrop=\"static\" id=\"error_details_modal\" tabindex=\"-1\" aria-labelledby=\"shareholder_modalLabel\" aria-hidden=\"true\">\\n\\\r\n                <div class=\"modal-dialog\">\\n\\\r\n                  <div class=\"modal-content\">\\n\\\r\n                    <div class=\"modal-header\">\\n\\\r\n                      <h5 class=\"modal-title\" id=\"shareholder_modalLabel\">Invoices require auditing</h5>\\n\\\r\n                      <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\\n\\\r\n                    </div>\\n\\\r\n                    <div class=\"modal-body\">\\n\\\r\n                        <div class=\"row\">\\n\\\r\n                            <div class=\"col-12\">\\n\\\r\n                                <table id=\"sh_details_table\" class=\"table table-striped\" style=\"width:100%\">\\n\\\r\n                                    <thead>\\n\\\r\n                                        <tr>\\n\\\r\n                                            <th style=\"width:120px;\">Invoice ID</th>\\n\\\r\n                                            <th style=\"width:120px;\">Amount</th>\\n\\\r\n                                            <th style=\"width:120px;\">Payments</th>\\n\\\r\n                                        </tr>\\n\\\r\n                                    </thead>\\n\\\r\n                                  <tbody>\\n\\\r\n                                  </tbody>\\n\\\r\n                              </table>\\n\\\r\n                            </div>\\n\\\r\n                        </div>\\n\\\r\n                    </div>\\n\\\r\n                  </div>\\n\\\r\n                </div>\\n\\\r\n              </div>';\r\n            \$(\"#error_details_modal\").modal('hide');\r\n            \$(\"body\").append(content);\r\n            \$('#error_details_modal').on('show.bs.modal', function (e) {\r\n\r\n            });\r\n\r\n            \$('#error_details_modal').on('shown.bs.modal', function (e) { \r\n                \$('#sh_details_table').DataTable({\r\n                    ajax: {\r\n                       url: \"?r=reports_shareholders&f=get_error_details&p0=\"+date,\r\n                       type: 'POST',\r\n                       error:function(xhr,status,error) {\r\n\r\n                       },\r\n                   },\r\n                   \"columnDefs\": [\r\n                        \r\n                    ],\r\n                   \"order\": [[0, \"asc\"]], // Set default sorting column and order\r\n                    paging: true,\r\n                   \"pageLength\": 10,\r\n                   \"language\": {\r\n                     \"search\": \"Search records:\",\r\n                   },\r\n                    fnDrawCallback: function(){\r\n                      \r\n                    },\r\n               });\r\n              \r\n            });\r\n\r\n            \$('#error_details_modal').on('hide.bs.modal', function (e) {\r\n                \$(\"#error_details_modal\").remove();\r\n            });\r\n            \$('#error_details_modal').modal('show');\r\n        }\r\n        \r\n        \r\n        function show_details(id){\r\n            var content =\r\n            '<div class=\"modal modal-lg\" data-bs-backdrop=\"static\" id=\"shareholder_details_modal\" tabindex=\"-1\" aria-labelledby=\"shareholder_modalLabel\" aria-hidden=\"true\">\\n\\\r\n                <div class=\"modal-dialog\">\\n\\\r\n                  <div class=\"modal-content\">\\n\\\r\n                    <div class=\"modal-header\">\\n\\\r\n                      <h5 class=\"modal-title\" id=\"shareholder_modalLabel\">Details <button style=\"font-size:12px;\" class=\"btn btn-danger pt-0 pb-1 pl-0 pr-0\" onclick=\"delete_completely(\\''+id+'\\')\" >Remove From System</button></h5>\\n\\\r\n                      <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\\n\\\r\n                    </div>\\n\\\r\n                    <div class=\"modal-body\">\\n\\\r\n                        <div class=\"row\">\\n\\\r\n                            <div class=\"col-12\">\\n\\\r\n                                <table id=\"sh_details_table\" class=\"table table-striped\" style=\"width:100%\">\\n\\\r\n                                    <thead>\\n\\\r\n                                        <tr>\\n\\\r\n                                            <th style=\"width:120px;\">ID</th>\\n\\\r\n                                            <th style=\"width:120px;\">Start Date</th>\\n\\\r\n                                            <th style=\"width:120px;\">End Date</th>\\n\\\r\n                                            <th>Percentage</th>\\n\\\r\n                                        </tr>\\n\\\r\n                                    </thead>\\n\\\r\n                                  <tbody>\\n\\\r\n                                  </tbody>\\n\\\r\n                              </table>\\n\\\r\n                            </div>\\n\\\r\n                        </div>\\n\\\r\n                    </div>\\n\\\r\n                  </div>\\n\\\r\n                </div>\\n\\\r\n              </div>';\r\n            \$(\"#shareholder_details_modal\").modal('hide');\r\n            \$(\"body\").append(content);\r\n            \$('#shareholder_details_modal').on('show.bs.modal', function (e) {\r\n\r\n            });\r\n\r\n            \$('#shareholder_details_modal').on('shown.bs.modal', function (e) { \r\n                \$('#sh_details_table').DataTable({\r\n                    ajax: {\r\n                       url: \"?r=reports_shareholders&f=get_shareholders_details_log&p0=\"+id,\r\n                       type: 'POST',\r\n                       error:function(xhr,status,error) {\r\n\r\n                       },\r\n                   },\r\n                   \"columnDefs\": [\r\n                        {\r\n                            \"targets\": 0, // The first column index is 0\r\n                            \"visible\": false,\r\n                        }\r\n                    ],\r\n                   \"order\": [[0, \"asc\"]], // Set default sorting column and order\r\n                    paging: true,\r\n                   \"pageLength\": 10,\r\n                   \"language\": {\r\n                     \"search\": \"Search records:\",\r\n                   },\r\n                    fnDrawCallback: function(){\r\n                      \r\n                    },\r\n               });\r\n              \r\n            });\r\n\r\n            \$('#shareholder_details_modal').on('hide.bs.modal', function (e) {\r\n                \$(\"#shareholder_details_modal\").remove();\r\n            });\r\n            \$('#shareholder_details_modal').modal('show');\r\n        }\r\n    \r\n        \$(document).ready(function () {\r\n            \$('#shareholders_table').DataTable({\r\n                 ajax: {\r\n                    url: \"?r=reports_shareholders&f=get_shareholders\",\r\n                    type: 'POST',\r\n                    error:function(xhr,status,error) {\r\n                        \r\n                    },\r\n                },\r\n                \"order\": [[0, \"asc\"]], // Set default sorting column and order\r\n                 paging: true,\r\n                \"pageLength\": 10,\r\n                \"language\": {\r\n                  \"search\": \"Search records:\",\r\n                },\r\n                \"columnDefs\": [\r\n                     {\r\n                         \"targets\": [0,3], // The first column index is 0\r\n                         \"visible\": false,\r\n                     }\r\n                 ],\r\n                 fnDrawCallback: function(){\r\n                    var table = \$('#shareholders_table').DataTable();\r\n                    var p = table.rows({ page: 'current' }).nodes();\r\n                    for (var k = 0; k < p.length; k++){\r\n                        var index = table.row(p[k]).index();\r\n                        var edit='<button style=\"font-size:12px;\" class=\"btn btn-primary pt-0 pb-1 pl-0 pr-0\" onclick=\"edit_shareholder(\\''+parseInt(table.cell(index, 0).data())+'\\')\" >Edit</button>';\r\n                        var details='<button style=\"font-size:12px;\" class=\"btn btn-info pt-0 pb-1 pl-0 pr-0\" onclick=\"show_details(\\''+parseInt(table.cell(index, 0).data())+'\\')\" >Details</button>';\r\n                        table.cell(index,5).data(edit+'&nbsp;&nbsp;'+details+'&nbsp;&nbsp;<button style=\"font-size:12px;\" class=\"btn btn-danger pt-0 pb-1 pl-0 pr-0\" onclick=\"delete_shareholder(\\''+parseInt(table.cell(index, 0).data())+'\\')\" >Delete</button>');\r\n                    }\r\n                 },\r\n            });\r\n            \r\n            \r\n            \r\n            \r\n            var chartDom = document.getElementById('section_chart');\r\n            myChart = echarts.init(chartDom);\r\n            \r\n            \r\n            option = {\r\n              title: {\r\n                text: 'SHAREHOLDERS',\r\n                subtext: 'Profit Distribution',\r\n                left: 'center'\r\n              },\r\n              tooltip: {\r\n                trigger: 'item'\r\n              },\r\n              legend: {\r\n                show: false ,\r\n                orient: 'vertical',\r\n                left: 'left'\r\n              },\r\n              series: [\r\n                {\r\n                  name: 'Access From',\r\n                  type: 'pie',\r\n                  radius: '50%',\r\n                  data: [\r\n                \r\n                  ],\r\n                  label: {\r\n                    show: true,\r\n                    formatter: '{b} : {c} ({d}%)', // Display name, value, and percentage\r\n                  },\r\n                  emphasis: {\r\n                    itemStyle: {\r\n                      shadowBlur: 10,\r\n                      shadowOffsetX: 0,\r\n                      shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n                    }\r\n                  }\r\n                }\r\n              ]\r\n            };\r\n            \r\n            myChart.setOption(option);\r\n            setTimeout(function(){drawDiagrams_profit_distribution(moment().format('YYYY-MM-DD'),moment().format('YYYY-MM-DD'));},500);\r\n            \r\n            \r\n            pepare_date_range(\"profits_distribution\");\r\n            \r\n            \r\n            \r\n            \$('#statistics_date').daterangepicker({\r\n                ranges: {\r\n                    'Today': [moment(), moment()],\r\n                    'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],\r\n                    'Last 7 Days': [moment().subtract(6, 'days'), moment()],\r\n                    'Last 30 Days': [moment().subtract(29, 'days'), moment()],\r\n                    'This Month': [moment().startOf('month'), moment().endOf('month')],\r\n                    'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]\r\n                 },\r\n                \"alwaysShowCalendars\": true,\r\n                dateLimit:{month:12},\r\n                startDate:moment().subtract(29, 'days'),\r\n                endDate: moment(),\r\n                locale: {\r\n                    format: 'YYYY-MM-DD'\r\n                },\r\n                \"opens\": \"left\"\r\n            }, function(start, end, label) {\r\n                \r\n                \r\n            });   \r\n            \r\n            \$('#statistics_date').on('change', function() {\r\n                // Call your function here\r\n                 var table = \$('#statistics_table').DataTable();\r\n                table.ajax.url(\"?r=reports_shareholders&f=get_statistics&p0=\"+\$(\"#statistics_date\").val()).load(function () { \r\n                    \r\n                },false);\r\n            });\r\n            \r\n            init_statistics();\r\n            \r\n            \r\n             \$('#exportButton').on('click', function() {\r\n                 var table = \$('#statistics_table').DataTable();\r\n                table.button('.buttons-excel').trigger();\r\n            });\r\n            \r\n        });\r\n        \r\n        function pepare_date_picker(id){\r\n            \$(\"#\"+id).datepicker({\r\n                format: 'yyyy-mm-dd',\r\n                autoclose: true\r\n            });\r\n            \r\n            \$(\"#\"+id).datepicker('setDate', new Date());\r\n            \r\n            \$('#'+id).on('changeDate', function(e){\r\n                //drawDiagrams_profit_distribution(\$(\"#\"+id).val());\r\n            });\r\n        }\r\n        \r\n        function pepare_date_range(id){\r\n            \$('#'+id).daterangepicker({\r\n                ranges: {\r\n                    'Today': [moment(), moment()],\r\n                    'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],\r\n                    'Last 7 Days': [moment().subtract(6, 'days'), moment()],\r\n                    'Last 30 Days': [moment().subtract(29, 'days'), moment()],\r\n                    'This Month': [moment().startOf('month'), moment().endOf('month')],\r\n                    'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]\r\n                 },\r\n                \"alwaysShowCalendars\": true,\r\n                dateLimit:{month:12},\r\n                startDate: moment(),\r\n                endDate: moment(),\r\n                locale: {\r\n                    format: 'YYYY-MM-DD'\r\n                },\r\n                \"opens\": \"left\"\r\n            }, function(start, end, label) {\r\n                \r\n                drawDiagrams_profit_distribution(start.format('YYYY-MM-DD'),end.format('YYYY-MM-DD'));\r\n              //console.log('New date range selected: ' + start.format('YYYY-MM-DD') + ' to ' + end.format('YYYY-MM-DD') + ' (predefined range: ' + label + ')');\r\n            });\r\n        }\r\n        \r\n        \r\n        function drawDiagrams_profit_distribution(start_date,end_date) {\r\n            var _data=[];\r\n            \$.getJSON(\"?r=reports_shareholders&f=profit_distribution&p0=\"+start_date+\"&p1=\"+end_date, function (data) {\r\n                _data=data;\r\n            }).done(function () {\r\n                var option = myChart.getOption();\r\n  \r\n                var __data = _data.distribution;\r\n                \r\n                option.series[0].data = __data;\r\n              \r\n                option.title[0].subtext = \"Profit Distribution: \"+_data.total_profit;\r\n                \r\n                \r\n                  \r\n                myChart.setOption(option);\r\n                \r\n       \r\n                \r\n\r\n            });\r\n        }\r\n        \r\n        \r\n        function init_statistics(){\r\n            \$('#statistics_table').DataTable({\r\n                 ajax: {\r\n                    url: \"?r=reports_shareholders&f=get_statistics&p0=\"+\$(\"#statistics_date\").val(),\r\n                    type: 'POST',\r\n                    error:function(xhr,status,error) {\r\n                        \r\n                    },\r\n                    dataSrc: function (json) {\r\n                        \r\n                        return json.data;\r\n                    }\r\n                },\r\n                \"order\": [[0, \"desc\"]], // Set default sorting column and order\r\n                 paging: true,\r\n                \"pageLength\": 10,\r\n                buttons: [\r\n                    {\r\n                        extend: 'excelHtml5',\r\n                        title: 'Statistics'\r\n                    }\r\n                ],\r\n                \"language\": {\r\n                  \"search\": \"Search records:\",\r\n                },\r\n                 fnDrawCallback: function(){\r\n                    \r\n                 },\r\n            });\r\n        }\r\n        \r\n        \r\n        function delete_shareholder(id){\r\n            \$.confirm({\r\n                title: 'Confirm Delete!',\r\n                content: 'Are you sure!',\r\n                buttons: {\r\n                    Cancel: {\r\n                        btnClass: 'btn-blue',\r\n                        action: function(){\r\n                             \r\n                        }\r\n                    },\r\n                    Delete: {\r\n                        btnClass: 'btn-red any-other-class', // multiple classes.\r\n                        action: function(){\r\n                            var _data=[];\r\n                            \$.getJSON(\"?r=reports_shareholders&f=delete_shareholder&p0=\"+id, function (data) {\r\n                                _data=data;\r\n                            }).done(function () {\r\n                                var table = \$('#shareholders_table').DataTable();\r\n                                table.ajax.url(\"?r=reports_shareholders&f=get_shareholders\").load(function () { \r\n                                    location.reload();\r\n                                    //drawDiagrams_profit_distribution(\$(\"#profits_distribution\").val());\r\n                                },false);\r\n                            }); \r\n                        }\r\n                    },\r\n                }\r\n            });\r\n        }\r\n    \r\n\r\n    </script>\r\n    \r\n    \r\n</head>\r\n<body>\r\n\r\n    <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n        <div class=\"container-fluid\">\r\n            <a class=\"navbar-brand\" href=\"#\">SHAREHOLDERS</a>\r\n            <button class=\"navbar-toggler\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                <span class=\"navbar-toggler-icon\"></span>\r\n            </button>\r\n            <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n                <ul class=\"navbar-nav me-auto mb-2 mb-lg-0\">\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link active\" aria-current=\"page\" href=\"?r=reports_shareholders&f=dashboard\">Dashboard</a>\r\n                    </li>\r\n\r\n                </ul>\r\n            </div>\r\n        </div>\r\n    </nav>\r\n    \r\n    <div class=\"container-fluid mb-3\">\r\n        <div class=\"row mt-2\">\r\n            <div class=\"col-6\">\r\n                <div class=\"row\">\r\n                     <div class=\"col-12\">\r\n                        <div class=\"card bg-white text-white\">\r\n                            <div class=\"card-header text-dark bg-success-subtle\">\r\n                                <div class=\"row mt-0\">\r\n                                    <div class=\"col-lg-8 col-md-8 col-sm-6\">\r\n                                        All Shareholders\r\n                                    </div>\r\n                                    <div class=\"col-lg-4 col-md-4 col-sm-6\">\r\n                                        <button onclick=\"add_new_shareholder([])\" style=\"width: 100%;\"class=\"btn btn-primary text-black bg-white p-0\" href=\"#\">Add New Shareholder</button>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"card-body bg-light\">\r\n                                <div class=\"row mt-0\">\r\n                                    <div class=\"col-lg-12 col-md-12 col-sm-12\">\r\n                                        <table id=\"shareholders_table\" class=\"table table-striped\" style=\"width:100%\">\r\n                                              <thead>\r\n                                                  <tr>\r\n                                                      <th style=\"width:30px;\">ID</th>\r\n                                                      <th>Name</th>\r\n                                                      <th style=\"width:90px;\">Active Date</th>\r\n                                                      <th style=\"width:80px;\">End Date</th>\r\n                                                      <th style=\"width:60px;\">Per. %</th>\r\n                                                      <th style=\"width:160px;\">Action</th>\r\n                                                  </tr>\r\n                                              </thead>\r\n                                              <tbody>\r\n\r\n                                              </tbody>\r\n                                          </table>\r\n                                    </div>\r\n                                </div>\r\n                                \r\n                            </div>\r\n                        </div>\r\n                   </div>\r\n                </div>\r\n                <div class=\"row mt-2\">\r\n                     <div class=\"col-12\">\r\n                        <div class=\"card bg-white text-white\">\r\n                            <div class=\"card-header text-dark bg-success-subtle\">\r\n                               \r\n                                <div class=\"row mt-0\">\r\n                                    <div class=\"col-lg-6 col-md-6 col-sm-12\">\r\n                                         Profit Distribution\r\n                                    </div>\r\n                                    <div class=\"col-lg-6 col-md-6 col-sm-12\">\r\n                                        <input type=\"text\" id=\"profits_distribution\" value=\"\" class=\"form-control form-control-sm\" />\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"card-body bg-light\">\r\n                                <div id=\"section_chart\" style=\"width: 100%;height:300px;\"></div>\r\n                            </div>\r\n                        </div>\r\n                   </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"col-6\">\r\n                <div class=\"card bg-white text-white\">\r\n                    <div class=\"card-header text-dark bg-success-subtle\">\r\n                        <div class=\"row mt-0\">\r\n                            <div class=\"col-lg-4 col-md-4 col-sm-4\">\r\n                                Statistics\r\n                            </div>\r\n                            <div class=\"col-lg-4 col-md-4 col-sm-4\">\r\n                                <button id=\"exportButton\" class=\"btn btn-primary btn-sm\" style=\"padding-top: 1px; padding-bottom: 1px;\">Export to Excel</button>\r\n                            </div>\r\n                            <div class=\"col-lg-4 col-md-4 col-sm-6\">\r\n                                <input type=\"text\" id=\"statistics_date\" value=\"\" class=\"form-control form-control-sm\" />\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"card-body bg-light\">\r\n                        \r\n                        <div class=\"row mt-0\">\r\n                            <div class=\"col-lg-12 col-md-12 col-sm-12\">\r\n                              <table id=\"statistics_table\" class=\"table table-striped\" style=\"width:100%\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th style=\"width:60px;\">Date</th>\r\n                                        <th>Revenue</th>\r\n                                        <th>Rev. Cost</th>\r\n                                        <th>Rev. Profit</th>\r\n                                        <th>Expenses</th>\r\n                                        <th>Net Profit</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n\r\n                                </tbody>\r\n                            </table>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    \r\n    \r\n    <script type=\"text/javascript\">\r\n        \r\n       \r\n    \r\n    </script>\r\n\r\n</body>\r\n</html>\r\n";

?>