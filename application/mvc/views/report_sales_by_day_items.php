<?php
/*
 * @ https://EasyToYou.eu - IonCube v11 Decoder Online
 * @ PHP 5.6
 * @ Decoder version: 1.0.4
 * @ Release: 02/06/2020
 *
 * @ ZendGuard Decoder PHP 5.6
 */

// Decoded file for php version 53.
echo "<!DOCTYPE html>\r\n<!--\r\nTo change this license header, choose License Headers in Project Properties.\r\nTo change this template file, choose Tools | Templates\r\nand open the template in the editor.\r\n-->\r\n<html>\r\n    <head>\r\n        <title>";
echo $_SESSION["page_title"];
echo " Sales per days - items</title>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n        <link rel=\"icon\" type=\"image/png\" href=\"resources/favicon.png\">\r\n        \r\n        <script src=\"libraries/jquery-3.1.1.min.js\" type=\"text/javascript\"></script>\r\n\r\n        <script src=\"libraries/bootstrap-3.3.7-dist/js/bootstrap.min.js\" type=\"text/javascript\"></script>\r\n        <link href=\"libraries/bootstrap-3.3.7-dist/css/bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n        <script src=\"libraries/bootstrap-plugins/DataTables-1.10.13/media/js/jquery.dataTables.min.js\" type=\"text/javascript\"></script>\r\n        <script src=\"libraries/bootstrap-plugins/DataTables-1.10.13/media/js/dataTables.bootstrap.min.js\" type=\"text/javascript\"></script>\r\n        <link href=\"libraries/bootstrap-plugins/DataTables-1.10.13/media/css/dataTables.bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n\r\n        \r\n        <link href=\"libraries/bootstrap-plugins/export/buttons.dataTables.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n        <script src=\"libraries/bootstrap-plugins/export/dataTables.buttons.min.js\" type=\"text/javascript\"></script>\r\n        <script src=\"libraries/bootstrap-plugins/export/jszip.min.js\" type=\"text/javascript\"></script>\r\n        <script src=\"libraries/bootstrap-plugins/export/vfs_fonts.js\" type=\"text/javascript\"></script>\r\n        <script src=\"libraries/bootstrap-plugins/export/buttons.html5.min.js\" type=\"text/javascript\"></script>\r\n        \r\n        <script src=\"libraries/bootstrap-plugins/DataTables-1.10.13/extensions/Select/js/dataTables.select.min.js\" type=\"text/javascript\"></script>\r\n        <!-- <script src=\"libraries/bootstrap-plugins/Buttons-1.2.4/js/dataTables.buttons.min.js\" type=\"text/javascript\"></script>-->\r\n        <script src=\"libraries/bootstrap-plugins/Buttons-1.2.4/js/buttons.bootstrap.min.js\" type=\"text/javascript\"></script> \r\n        <link href=\"libraries/bootstrap-plugins/Buttons-1.2.4/css/buttons.bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n        \r\n        <link href=\"libraries/bootstrap-plugins/datepicker-master/dist/css/bootstrap-datepicker.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n        <script src=\"libraries/bootstrap-plugins/datepicker-master/dist/js/bootstrap-datepicker.min.js\" type=\"text/javascript\"></script>\r\n        \r\n        \r\n        <!-- Include Date Range Picker -->\r\n        <script src=\"libraries/bootstrap-plugins/daterangepicker-master/moment.min.js\" type=\"text/javascript\"></script>\r\n        <script src=\"libraries/bootstrap-plugins/daterangepicker-master/daterangepicker.js\" type=\"text/javascript\"></script>\r\n        <link href=\"libraries/bootstrap-plugins/daterangepicker-master/daterangepicker.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n        \r\n        \r\n        \r\n        <script src=\"application/mvc/views/custom_libraries/javascripts/global_functions.js?rnd=";
echo self::generateRandomStringComplex();
echo "\" type=\"text/javascript\"></script>\r\n        <script src=\"application/mvc/views/custom_libraries/javascripts/global.js?rnd=";
echo self::generateRandomStringComplex();
echo "\" type=\"text/javascript\"></script>\r\n\r\n        <script src=\"libraries/bootstrap-plugins/bootstrap-select-master/bootstrap-select-master/dist/js/bootstrap-select.min.js\" type=\"text/javascript\"></script>\r\n        <link href=\"libraries/bootstrap-plugins/bootstrap-select-master/bootstrap-select-master/dist/css/bootstrap-select.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n        <link href=\"application/mvc/views/custom_libraries/css/global.css?rnd=";
echo self::generateRandomStringComplex();
echo "\" rel=\"stylesheet\" type=\"text/css\"/>\r\n        \r\n         <script src=\"libraries/bootstrap-plugins/bootstrap-select-master/bootstrap-select-master/dist/js/bootstrap-select.min.js\" type=\"text/javascript\"></script>\r\n        <link href=\"libraries/bootstrap-plugins/bootstrap-select-master/bootstrap-select-master/dist/css/bootstrap-select.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n        \r\n        <script src=\"libraries/numeric.js\" type=\"text/javascript\"></script>\r\n        \r\n        <script src=\"libraries/bootstrap-plugins/libs/bootstrap-confirmation.min.js\" type=\"text/javascript\"></script>\r\n        \r\n        <script src=\"libraries/bootstrap-plugins/bootstrap-sweetalert-master/dist/sweetalert.min.js\" type=\"text/javascript\"></script>\r\n        <link href=\"libraries/bootstrap-plugins/bootstrap-sweetalert-master/dist/sweetalert.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n       \r\n        <link href=\"application/mvc/views/custom_libraries/svgs/font/style.css?rnd=";
echo self::generateRandomStringComplex();
echo "\" rel=\"stylesheet\" type=\"text/css\"/>\r\n\r\n       \r\n        \r\n        <style type=\"text/css\">\r\n            \r\n\r\n            .container,.panel {\r\n                height:100%;\r\n                width: 100%;\r\n                padding: 0px !important;\r\n                margin: 0px !important;\r\n            }\r\n            \r\n\r\n            \r\n            .table>tfoot>tr>th{\r\n                font-size: 12px !important;\r\n                background-color: #F3F3F3;\r\n                padding: 2px;\r\n                border: none !important;\r\n            }\r\n            \r\n            .dataTables_filter{ display: none; }\r\n            \r\n            .input-sm{\r\n                height: 25px !important;\r\n                font-size: 14px !important;\r\n            }\r\n            \r\n            .selected{\r\n                background-color: #337ab7 !important;\r\n                color: #ffffff !important;\r\n            }\r\n            \r\n            .search_filter{\r\n                width: 100% !important;\r\n                color: #000;\r\n            }\r\n            \r\n            \r\n            ::-webkit-input-placeholder { /* Chrome/Opera/Safari */\r\n                color: #337ab7;\r\n                opacity: 0.9;\r\n            }\r\n            ::-moz-placeholder { /* Firefox 19+ */\r\n                color: #337ab7;\r\n                opacity: 0.9;\r\n            }\r\n            :-ms-input-placeholder { /* IE 10+ */\r\n                color: #337ab7;\r\n                opacity: 0.9;\r\n            }\r\n            :-moz-placeholder { /* Firefox 18- */\r\n                color: #337ab7;\r\n                opacity: 0.9;\r\n            }\r\n            \r\n            /* enable absolute positioning */\r\n            .inner-addon { \r\n                position: relative; \r\n            }\r\n\r\n            /* style icon */\r\n            .inner-addon .glyphicon {\r\n              position: absolute;\r\n              padding: 6px;\r\n              padding-top: 8px;\r\n              pointer-events: none;\r\n            }\r\n\r\n            /* align icon */\r\n            .left-addon .glyphicon  { left:  0px;}\r\n            .right-addon .glyphicon { right: 0px;}\r\n\r\n            /* add padding  */\r\n            .left-addon input  { padding-left:  20px; }\r\n            .right-addon input { padding-right: 30px; }\r\n            \r\n            .phone-input{\r\n                    margin-bottom:8px;\r\n            }\r\n            \r\n            .confirmation {\r\n                width: 160px;\r\n            }\r\n            \r\n            .list-group-item{\r\n                border: none !important;\r\n            }\r\n            \r\n            div.toolbar h3{\r\n                margin-top: 0px !important;\r\n            }\r\n            \r\n            #add_new_expenses input{\r\n                font-size: 16px !important;\r\n            }\r\n            \r\n            .table-nonfluid {\r\n                width: auto !important;\r\n             }\r\n             \r\n             \r\n             \r\n             .well{\r\n                 min-height: 15px;\r\n                 padding: 0px;\r\n                 margin-bottom: 0px;\r\n                 margin-top: 5px;\r\n                 text-align: center;\r\n                 background-color: transparent;\r\n                 border: none;\r\n                 box-shadow: none;\r\n             }\r\n             \r\n             .boxInfo{\r\n                 color: #fff;\r\n                 border-radius: 5px;\r\n                 padding-top: 1px;\r\n                 padding-bottom: 1px;\r\n                 font-size: 13px;\r\n                 padding-left: 5px !important;\r\n                 padding-right: 5px !important;\r\n             }\r\n             \r\n            .boxInfoProfit{\r\n                 background-color: #337ab7;\r\n             }\r\n             \r\n             .boxInfoExpenses{\r\n                 background-color: #ac2925;\r\n             }\r\n             \r\n             .boxInfoCont{\r\n                 \r\n             }\r\n             \r\n             .stk{\r\n                 font-size: 13px;\r\n                 font-weight: bold;\r\n             }\r\n             .stk_na{\r\n                 font-size: 13px;\r\n                 color: #ac2925;\r\n                 font-weight: bold;\r\n             }\r\n             \r\n             .hilighted_row{\r\n                background-color: ";
echo $data["row_discounted_color_in_report"];
echo " !important;\r\n            }\r\n            \r\n            .costinp{\r\n                width:80px;\r\n                height:20px;\r\n                color:#000\r\n            }\r\n            \r\n            .panel > .panel-heading{\r\n                 padding: 1px 6px  !important;\r\n            }\r\n        </style>\r\n\r\n        <script type=\"text/javascript\">\r\n            var report__by_day_items = null;\r\n            \r\n            var current_store_id = ";
echo $_SESSION["store_id"];
echo ";\r\n            var current_supplier_id = null;\r\n            var current_category_item = 0;\r\n            var current_category_p_item=0;\r\n            \r\n            var stores = [];\r\n            var suppliers = [];\r\n            var categories_items = [];\r\n            var categories_p_items = [];\r\n            \r\n            var currency = \"";
echo $data["currency"];
echo "\";\r\n            \r\n            var current_date = \"today\";\r\n            \r\n            var  ptype_hide = \";display:block;\";\r\n            ";
if ($_SESSION["ptype"] == 1) {
    echo "                ptype_hide = \";display:none;\";\r\n            ";
}
echo "           \r\n            \$(document).ready(function () {\r\n                \$(\".sk-circle\").center();\r\n                \$(\".sk-circle-layer\").show();\r\n                \$.getJSON(\"?r=suppliers&f=get_suppliers\", function (data) {\r\n                    \$.each(data, function (key, val) {\r\n                        if(current_supplier_id==null){\r\n                            current_supplier_id = 0;\r\n                        }\r\n                        suppliers.push({id:val.id,name:val.name});\r\n                    });\r\n                }).done(function () {\r\n                    \$.getJSON(\"?r=categories&f=getCategories\", function (data) {\r\n                        \$.each(data.cat, function (key, val) {\r\n                            categories_items.push({id:val.id,name:val.description,parent_id:val.parent});\r\n                        });\r\n                        \$.each(data.catp, function (key, val) {\r\n                            categories_p_items.push({id:val.id,name:val.name});\r\n                        });\r\n                    }).done(function () {\r\n                        init();\r\n                    });\r\n                });\r\n            });\r\n            \r\n            \r\n            function categories_parent_changed(){\r\n                current_category_p_item = \$(\"#categories_p_list\").val();\r\n                \$(\"#categories_list\").empty();\r\n    \r\n                \$(\"#categories_list\").append('<option selected value=\"0\" title=\"All Sub-Categories\">All Sub-Categories</option>');\r\n                for(var i=0;i<categories_items.length;i++){\r\n                    if(categories_items[i].parent_id==\$(\"#categories_p_list\").val()){\r\n                        \$(\"#categories_list\").append('<option value='+categories_items[i].id+' title=\"'+categories_items[i].name+'\">'+categories_items[i].name+'</option>');\r\n                    }\r\n                }\r\n                \$(\"#categories_list\").selectpicker('refresh');\r\n                \r\n                \r\n                categories_changed();\r\n            }\r\n            \r\n            function update_cost(object,id){\r\n                \$.getJSON(\"?r=invoice&f=update_cost&p0=\"+id+\"&p1=\"+\$(object).val().replace(/,/g, ''), function (data) {\r\n                    \r\n                }).done(function () {\r\n                    \r\n                });\r\n            }\r\n            \r\n            function init(){\r\n                \$('#items_table').show();\r\n                \r\n                \$(\".sk-circle\").center();\r\n                \$(\".sk-circle-layer\").show();\r\n                \r\n                var search_fields = [0,1,2,3,4,5,6,7,8,9,10,11,12];\r\n                var index = 0;\r\n                \$('#report__by_day_items tfoot th').each( function () {\r\n                    if(jQuery.inArray(index, search_fields) !== -1){\r\n                        var title = \$(this).text();\r\n                        \$(this).html( '<div class=\"inner-addon left-addon\"><input style=\"width: 100% !important;\" class=\"form-control input_sm_search\" type=\"text\" placeholder=\" '+title+'\" /></div>' );\r\n                        index++;\r\n                    }\r\n                });\r\n                \r\n                \r\n                jQuery.extend( jQuery.fn.dataTableExt.oSort, {\r\n                    \"currency-pre\": function ( a ) {\r\n                        a = (a===\"-\") ? 0 : a.replace( /[^\\d\\-\\.]/g, \"\" );\r\n                        return parseFloat( a );\r\n                    },\r\n\r\n                    \"currency-asc\": function ( a, b ) {\r\n                        return a - b;\r\n                    },\r\n\r\n                    \"currency-desc\": function ( a, b ) {\r\n                        return b - a;\r\n                    }\r\n                } );\r\n\r\n                report__by_day_items = \$('#report__by_day_items').dataTable({\r\n                    ajax: \"?r=reports&f=getReportByDay_items&p0=\"+current_store_id+\"&p1=today&p2=\"+current_category_item+\"&p3=0&p4=\"+current_category_p_item,\r\n                    orderCellsTop: true,\r\n                    aoColumnDefs: [\r\n                        { \"targets\": [0], \"searchable\": true, \"orderable\": true, \"visible\": true },\r\n                        { \"targets\": [1], \"searchable\": true, \"orderable\": true, \"visible\": true },\r\n                        { \"targets\": [2], \"searchable\": true, \"orderable\": true, \"visible\": true },\r\n                        { \"targets\": [3], \"searchable\": true, \"orderable\": true, \"visible\": true },\r\n                        { \"targets\": [4], \"searchable\": true, \"orderable\": true, \"visible\": true },\r\n                        { \"targets\": [5], \"searchable\": true, \"orderable\": true, \"visible\": true },\r\n                        { \"targets\": [6], \"searchable\": true, \"orderable\": true, \"visible\": true },\r\n                        { \"targets\": [7], \"searchable\": true, \"orderable\": true, \"visible\": true },\r\n                        { \"targets\": [8], \"searchable\": true, \"orderable\": true, \"visible\": true,\"className\": \"dt-center\" },\r\n                        { \"targets\": [9], \"searchable\": true, \"orderable\": true, \"visible\": true,type: 'currency' },\r\n                        { \"targets\": [10], \"searchable\": true, \"orderable\": true, \"visible\": true,type: 'currency' },\r\n                        { \"targets\": [11], \"searchable\": true, \"orderable\": true, \"visible\": true,type: 'currency' },                        \r\n                    ],\r\n                    scrollY: '47vh',\r\n                    scrollCollapse: true,\r\n                    \"paging\": true,           // Enable pagination\r\n                    \"pageLength\": 50, \r\n                    \"lengthChange\": true,\r\n                    \"lengthMenu\": [50, 100, 250, 500], // Page length options \r\n                    //dom: '<\"toolbar\">frtlip',\r\n                    dom: '<\"row\"<\"col-sm-12 col-md-12\"<\"toolbar\">>><\"row\"<\"col-sm-12 col-md-6\"f>>' +\r\n                    '<\"row\"<\"col-sm-12\"tr>>' +\r\n                    '<\"row\"<\"col-sm-4 col-md-4\"l><\"col-sm-4 col-md-4\"i><\"col-sm-4 col-md-4\"p>>',\r\n                    initComplete: function( settings ) {\r\n\r\n                        var table = \$('#report__by_day_items').DataTable();\r\n                        table.row(':eq(0)', { page: 'current' }).select();\r\n                        \r\n                        var suppliers_option = '<option value=\"0\" title=\"All suppliers\">All suppliers</option>';\r\n                        for(var i=0;i<suppliers.length;i++){\r\n                            suppliers_option+='<option value='+suppliers[i].id+' title=\"'+suppliers[i].name+'\">'+suppliers[i].name+'</option>';\r\n                        }\r\n                        \r\n                        var categories_option = '<option value=\"0\" title=\"All Sub-Categories\">All Sub-Categories</option>';\r\n                        for(var i=0;i<categories_items.length;i++){\r\n                            categories_option+='<option value='+categories_items[i].id+' title=\"'+categories_items[i].name+'\">'+categories_items[i].name+'</option>';\r\n                        }\r\n                        \r\n                        var categories_parents_option = '<option value=\"0\" title=\"All Categories\">All Categories</option>';\r\n                        for(var i=0;i<categories_p_items.length;i++){\r\n                            categories_parents_option+='<option value='+categories_p_items[i].id+' title=\"'+categories_p_items[i].name+'\">'+categories_p_items[i].name+'</option>';\r\n                        }\r\n                        \r\n                        \$(\"div.toolbar\").html('<h3><i class=\"glyphicon icon-profits\" style=\"font-size:26px;\"></i>&nbsp;Sales per days (Items)</h3>\\n\\\r\n                        <div class=\"row\">\\n\\\r\n                            <div class=\"col-lg-10 col-md-10 col-sm-12\" >\\n\\\r\n                                <div class=\"btn-group\" role=\"group\" aria-label=\"\" style=\"width:100%\">\\n\\\r\n                                    <input id=\"salesDate\" class=\"form-control datepicker\" type=\"text\" placeholder=\"Select date\" style=\"cursor:pointer;width:200px;\" />\\n\\\r\n                                    <select id=\"categories_p_list\" data-live-search=\"true\" class=\"btn-group selectpicker\" onchange=\"categories_parent_changed()\">\\n\\\r\n                                        '+categories_parents_option+'\\n\\\r\n                                    </select>\\n\\\r\n                                    <select id=\"categories_list\" data-live-search=\"true\" class=\"btn-group selectpicker\" onchange=\"categories_changed()\">\\n\\\r\n                                        '+categories_option+'\\n\\\r\n                                    </select>\\n\\\r\n                                    <select id=\"sales_type\" data-live-search=\"true\" class=\"btn-group selectpicker\" onchange=\"categories_changed()\">\\n\\\r\n                                        <option value=\"0\" title=\"All Sales\">All Sales</option>\\n\\\r\n                                        <option value=\"1\" title=\"Retails\">Retails</option>\\n\\\r\n                                        <option value=\"2\" title=\"Wholesale\">Wholesale</option>\\n\\\r\n                                    </select>\\n\\\r\n                                </div>\\n\\\r\n                            </div>\\n\\\r\n                            <div class=\"col-lg-2 col-md-2 col-sm-2\" >\\n\\\r\n                                <div class=\"btn-group\" role=\"group\" aria-label=\"\" style=\"width:100%\">\\n\\\r\n                                    <div class=\"btn-group\" id=\"buttons\" style=\"float:right\"></div>\\n\\\r\n                                </div>\\n\\\r\n                            </div>\\n\\\r\n                        </div>\\n\\\r\n                        <div class=\"row\" style=\"margin-top:5px;\">\\n\\\r\n                            <div class=\"col-md-2 col-sm-3\" style=\"padding-right:2px;\">\\n\\\r\n                                <div class=\"panel panel-info\">\\n\\\r\n                                    <div class=\"panel-heading\">\\n\\\r\n                                        <div class=\"row\">\\n\\\r\n                                            <div class=\"col-xs-12 col-sm-12 text-left\">\\n\\\r\n                                                <b class=\"announcement-heading dollar\" id=\"total_sales\">0</b>\\n\\\r\n                                                <p class=\"announcement-text\" style=\"margin-bottom:0px;\">Total Cash</p>\\n\\\r\n                                            </div>\\n\\\r\n                                        </div>\\n\\\r\n                                    </div>\\n\\\r\n                                </div>\\n\\\r\n                            </div>\\n\\\r\n                            <div class=\"col-md-2 col-sm-3\" style=\"padding-left:2px;padding-right:2px;\">\\n\\\r\n                                <div class=\"panel panel-info\">\\n\\\r\n                                    <div class=\"panel-heading\">\\n\\\r\n                                        <div class=\"row\">\\n\\\r\n                                            <div class=\"col-xs-12 col-sm-12 text-left\">\\n\\\r\n                                                <b class=\"announcement-heading dollar\" id=\"total_sales_creditcard\">0</b>\\n\\\r\n                                                <p class=\"announcement-text\" style=\"margin-bottom:0px;\">Total Credit Cards</p>\\n\\\r\n                                            </div>\\n\\\r\n                                        </div>\\n\\\r\n                                    </div>\\n\\\r\n                                </div>\\n\\\r\n                            </div>\\n\\\r\n                            <div class=\"col-md-2 col-sm-3\" style=\"padding-left:2px;padding-right:2px;\">\\n\\\r\n                                <div class=\"panel panel-info\">\\n\\\r\n                                    <div class=\"panel-heading\">\\n\\\r\n                                        <div class=\"row\">\\n\\\r\n                                            <div class=\"col-xs-12 col-sm-12 text-left\">\\n\\\r\n                                                <b class=\"announcement-heading dollar\" id=\"total_sales_debts\">0</b>\\n\\\r\n                                                <p class=\"announcement-text\" style=\"margin-bottom:0px;\">Total Debts</p>\\n\\\r\n                                            </div>\\n\\\r\n                                        </div>\\n\\\r\n                                    </div>\\n\\\r\n                                </div>\\n\\\r\n                            </div>\\n\\\r\n                            <div class=\"col-md-2 col-sm-3\" style=\"padding-left:2px;padding-right:2px;\">\\n\\\r\n                                <div class=\"panel panel-info\">\\n\\\r\n                                    <div class=\"panel-heading\">\\n\\\r\n                                        <div class=\"row\">\\n\\\r\n                                            <div class=\"col-xs-12 col-sm-12 text-left\">\\n\\\r\n                                                <b class=\"announcement-heading dollar\" id=\"total_sales_cheques\">0</b>\\n\\\r\n                                                <p class=\"announcement-text\" style=\"margin-bottom:0px;\">Total Cheque(s)</p>\\n\\\r\n                                            </div>\\n\\\r\n                                        </div>\\n\\\r\n                                    </div>\\n\\\r\n                                </div>\\n\\\r\n                            </div>\\n\\\r\n                            <div class=\"col-md-2 col-sm-3\" style=\"padding-left:2px;padding-right:2px;\">\\n\\\r\n                                <div class=\"panel panel-info\">\\n\\\r\n                                    <div class=\"panel-heading\">\\n\\\r\n                                        <div class=\"row\">\\n\\\r\n                                            <div class=\"col-xs-12 col-sm-12 text-left\">\\n\\\r\n                                                <b class=\"announcement-heading dollar\" id=\"total_sales_total\">0</b>\\n\\\r\n                                                <p class=\"announcement-text\" style=\"margin-bottom:0px;\">Total Sales(s)</p>\\n\\\r\n                                            </div>\\n\\\r\n                                        </div>\\n\\\r\n                                    </div>\\n\\\r\n                                </div>\\n\\\r\n                            </div>\\n\\\r\n                            <div class=\"col-md-2 col-sm-3\" style=\"padding-left:2px;\">\\n\\\r\n                                <div class=\"panel panel-success\">\\n\\\r\n                                    <div class=\"panel-heading\">\\n\\\r\n                                        <div class=\"row\">\\n\\\r\n                                            <div class=\"col-xs-12 col-sm-12 text-left\">\\n\\\r\n                                                <b class=\"announcement-heading dollar\" id=\"total_profit\">0</b>\\n\\\r\n                                                <p class=\"announcement-text\" style=\"margin-bottom:0px;\">Total Profit</p>\\n\\\r\n                                            </div>\\n\\\r\n                                        </div>\\n\\\r\n                                    </div>\\n\\\r\n                                </div>\\n\\\r\n                            </div>\\n\\\r\n                        </div>\\n\\\r\n                        <div class=\"row\" style=\"margin-top:5px;\">\\n\\\r\n                            <div class=\"col-md-2 col-sm-3\" style=\"padding-right:2px;\">\\n\\\r\n                                <div class=\"panel panel-danger\">\\n\\\r\n                                    <div class=\"panel-heading\">\\n\\\r\n                                        <div class=\"row\">\\n\\\r\n                                            <div class=\"col-xs-12 col-sm-12 text-left\">\\n\\\r\n                                                <b class=\"announcement-heading dollar\" id=\"tm_discount\">0</b>\\n\\\r\n                                                <p class=\"announcement-text\" style=\"margin-bottom:0px;\">Manual Discount</p>\\n\\\r\n                                            </div>\\n\\\r\n                                        </div>\\n\\\r\n                                    </div>\\n\\\r\n                                </div>\\n\\\r\n                            </div>\\n\\\r\n                            <div class=\"col-md-2 col-sm-3\" style=\"padding-left:2px;padding-right:2px;\">\\n\\\r\n                                <div class=\"panel panel-danger\">\\n\\\r\n                                    <div class=\"panel-heading\">\\n\\\r\n                                        <div class=\"row\">\\n\\\r\n                                            <div class=\"col-xs-12 col-sm-12 text-left\">\\n\\\r\n                                                <b class=\"announcement-heading dollar\" id=\"total_expenses\">0</b>\\n\\\r\n                                                <p class=\"announcement-text\" style=\"margin-bottom:0px;\">Total Expenses</p>\\n\\\r\n                                            </div>\\n\\\r\n                                        </div>\\n\\\r\n                                    </div>\\n\\\r\n                                </div>\\n\\\r\n                            </div>\\n\\\r\n                            <div class=\"col-md-2 col-sm-3\" style=\"padding-left:2px;padding-right:2px;\">\\n\\\r\n                                <div class=\"panel panel-danger\">\\n\\\r\n                                    <div class=\"panel-heading\">\\n\\\r\n                                        <div class=\"row\">\\n\\\r\n                                            <div class=\"col-xs-12 col-sm-12 text-left\">\\n\\\r\n                                                <b class=\"announcement-heading dollar\" id=\"total_credit_notes\">0</b>\\n\\\r\n                                                <p class=\"announcement-text\" style=\"margin-bottom:0px;\">Total Credit Notes</p>\\n\\\r\n                                            </div>\\n\\\r\n                                        </div>\\n\\\r\n                                    </div>\\n\\\r\n                                </div>\\n\\\r\n                            </div>\\n\\\r\n                        </div>\\n\\\r\n                        ');\r\n \r\n                        var buttons = new \$.fn.dataTable.Buttons(table, {\r\n                            buttons: [\r\n                              {\r\n                                    extend: 'excel',\r\n                                    text: 'Export excel',\r\n                                    className: 'exportExcel',\r\n                                    filename: 'Sales per days ',\r\n                                    customize: _customizeExcelOptions,\r\n                                    exportOptions: {\r\n                                        modifier: {\r\n                                            page: 'all'\r\n                                        },\r\n                                        //format: {\r\n                                            //body: function ( data, row, column, node ) {\r\n                                                // Strip \$ from salary column to make it numeric\r\n                                                ///return column === 6 ? data.replace( /[L.L.,]/g, '' ) : data;\r\n                                            //}\r\n                                        //}\r\n                                    }\r\n                              }\r\n                            ]\r\n                            \r\n                       }).container().appendTo(\$('#buttons'));\r\n                       \r\n                      function _customizeExcelOptions(xlsx) {\r\n                            var sheet = xlsx.xl.worksheets['sheet1.xml'];\r\n                            var clR = \$('row', sheet);\r\n                            var r1 = Addrow(clR.length+2, [{key:'A',value: \"Total Sales\"},{key:'B',value: \$(\"#total_sales_total\").html()}]);\r\n                            var r2 = Addrow(clR.length+3, [{key:'A',value: \"Total profit\"},{key:'B',value: \$(\"#total_profit\").html()}]);\r\n                            var r3 = Addrow(clR.length+4, [{key:'A',value: \"Total Expenses\"},{key:'B',value: \$(\"#total_expenses\").html()}]);\r\n                            var r4 = Addrow(clR.length+5, [{key:'A',value: \"Total Invoices Discounts\"},{key:'B',value: \$(\"#tm_discount\").html()}]);\r\n                            var r5 = Addrow(clR.length+6, [{key:'A',value: \"Total Credit Notes\"},{key:'B',value: \$(\"#total_credit_notes\").html()}]);\r\n                            sheet.childNodes[0].childNodes[1].innerHTML = sheet.childNodes[0].childNodes[1].innerHTML + r1+ r2+ r3+ r4 + r5;\r\n                            \r\n                            \$('row c[r^=\"A'+(clR.length+2)+'\"]', sheet).attr('s', '48');\r\n                            \$('row c[r^=\"A'+(clR.length+3)+'\"]', sheet).attr('s', '48');\r\n                            \$('row c[r^=\"A'+(clR.length+4)+'\"]', sheet).attr('s', '48');\r\n                            \$('row c[r^=\"A'+(clR.length+5)+'\"]', sheet).attr('s', '48');\r\n                            \$('row c[r^=\"A'+(clR.length+6)+'\"]', sheet).attr('s', '48');\r\n                            \r\n                            function Addrow(index, data) {\r\n                                var msg = '<row r=\"' + index + '\">'\r\n                                for (var i = 0; i < data.length; i++) {\r\n                                    var key = data[i].key;\r\n                                    var value = data[i].value;\r\n                                    msg += '<c t=\"inlineStr\" r=\"' + key + index + '\">';\r\n                                    msg += '<is>';\r\n                                    msg += '<t>' + value + '</t>';\r\n                                    msg += '</is>';\r\n                                    msg += '</c>';\r\n                                }\r\n                                msg += '</row>';\r\n                                return msg;\r\n                            }\r\n                        }\r\n                       \r\n                        //\$('.datepicker').datepicker({\r\n                            //format: 'yyyy-mm-dd',\r\n                            //autoclose:true,\r\n                        //});\r\n                        //\$(\".datepicker\").datepicker( \"setDate\", new Date() ).attr('readonly','readonly');\r\n    \r\n                        \$('.selectpicker').selectpicker();\r\n                        \r\n                        \r\n                        var defaultStart = moment().startOf('month');\r\n                        var end = moment();\r\n                        \r\n                        \$('.datepicker').daterangepicker({\r\n                            //dateLimit:{month:12},\r\n                            startDate: defaultStart,\r\n                            endDate: end,\r\n                            locale: {\r\n                                format: 'YYYY-MM-DD'\r\n                            },\r\n                            ranges: {\r\n                                'Today': [moment(), moment()],\r\n                                'Yesterday': [moment().subtract(1, 'days'), moment().subtract(1, 'days')],\r\n                                'Last 7 Days': [moment().subtract(6, 'days'), moment()],\r\n                                'Last 30 Days': [moment().subtract(29, 'days'), moment()],\r\n                                'This Month': [moment().startOf('month'), moment().endOf('month')],\r\n                                'Last Month': [moment().subtract(1, 'month').startOf('month'), moment().subtract(1, 'month').endOf('month')]\r\n                             }\r\n                        });\r\n                        \r\n                        if(table.rows().count()==0)\r\n                            \$(\"#tab_toolbar button.blueB\").addClass(\"disabled\");\r\n                        \r\n                        updateWellInfo();\r\n                        \r\n                        \$( \"#salesDate\" ).change(function() {\r\n                            report_day_changed();\r\n                        });\r\n                    },\r\n                    fnDrawCallback: updateRows,\r\n                    fnRowCallback: function (nRow, aData, iDisplayIndex, iDisplayIndexFull) {\r\n                        \$(nRow).addClass(aData[0]);\r\n                    },\r\n                });\r\n                \r\n                function updateRows(){\r\n                    var table = \$('#report__by_day_items').DataTable();\r\n                    var p = table.rows({ page: 'current' }).nodes();\r\n                    for (var k = 0; k < p.length; k++){\r\n                        var index = table.row(p[k]).index();\r\n                        if(parseFloat(table.cell(index, 7).data())!=0){\r\n                            \$(table.row(p[k]).node()).addClass('hilighted_row');\r\n                        }\r\n                   \r\n                    }\r\n                }\r\n                \r\n          \r\n                \$('#report__by_day_items').on( 'page.dt', function () {\r\n                    \$(\".selected\").removeClass(\"selected\");\r\n                    \$(\"#tab_toolbar button.blueB\").addClass(\"disabled\");\r\n                } );\r\n                \r\n                \$('#report__by_day_items').DataTable().columns().every( function () {\r\n                    var that = this;\r\n                    \$( 'input', this.footer() ).on( 'keyup change', function () {\r\n                        if ( that.search() !== this.value ) {\r\n                            that.search( this.value ).draw();\r\n                        }\r\n                    } );\r\n                } );\r\n                \r\n                \$('#report__by_day_items').DataTable().on( 'select', function ( e, dt, type, indexes ) {\r\n                    if (type === 'row') {\r\n \r\n                       \$(\"#tab_toolbar button.blueB\").removeClass(\"disabled\");\r\n                    }\r\n                } );\r\n                \r\n                \$('#report__by_day_items').DataTable().on( 'deselect', function ( e, dt, type, indexes ) {\r\n                    if (type === 'row') {\r\n                        \$(\"#tab_toolbar button.blueB\").addClass(\"disabled\");\r\n                    }\r\n                });\r\n  \r\n                \$('#report__by_day_items').DataTable().search( '' ).columns().search( '' ).draw();\r\n            }\r\n            \r\n            function store_changed(){\r\n                \$(\".sk-circle-layer\").show();\r\n                var table = \$('#report__by_day_items').DataTable();\r\n                table.ajax.url(\"?r=reports&f=getReportByDay_items&p0=\"+current_store_id+\"&p1=\"+\$(\"#salesDate\").val()+\"&p2=\"+current_category_item+\"&p3=\"+\$(\"#sales_type\").val()+\"&p4=\"+current_category_p_item).load(function () {\r\n                    updateWellInfo();\r\n                }, false);\r\n            }\r\n            \r\n            function categories_changed(){\r\n                \$(\".sk-circle-layer\").show();\r\n                current_category_item = \$(\"#categories_list\").val();\r\n                var table = \$('#report__by_day_items').DataTable();\r\n                table.ajax.url(\"?r=reports&f=getReportByDay_items&p0=\"+current_store_id+\"&p1=\"+\$(\"#salesDate\").val()+\"&p2=\"+current_category_item+\"&p3=\"+\$(\"#sales_type\").val()+\"&p4=\"+current_category_p_item).load(function () {\r\n                    updateWellInfo();\r\n                }, false);\r\n            }\r\n            \r\n            function report_day_changed(){\r\n                current_date = \$(\"#salesDate\").val();\r\n                \$(\".sk-circle-layer\").show();\r\n                var table = \$('#report__by_day_items').DataTable();\r\n                table.ajax.url(\"?r=reports&f=getReportByDay_items&p0=\"+current_store_id+\"&p1=\"+current_date+\"&p2=\"+current_category_item+\"&p3=\"+\$(\"#sales_type\").val()+\"&p4=\"+current_category_p_item).load(function () {\r\n                    updateWellInfo();\r\n                }, false);\r\n            }\r\n            \r\n            \r\n            function updateWellInfo(){\r\n                var profit = 0;\r\n                var total_sales = 0;\r\n                var manual_discount = 0;\r\n                var total_profit = 0;\r\n                var total_expenses = 0;\r\n                var total_sales_debts = 0;\r\n                var total_sales_creditcards = 0;\r\n                var total_sales_cheques = 0;\r\n                var total_sales_total = 0;\r\n                var total_credit_notes = 0;\r\n                \r\n                if(current_category_item==0){\r\n                    \$(\".cat0hide\").show();\r\n                }else{\r\n                    \$(\".cat0hide\").hide();\r\n                }\r\n                \r\n                //alert(\"das\");\r\n                \r\n                \$.getJSON(\"?r=reports&f=getInfo&p0=\"+\$(\"#suppliers_list\").val()+\"&p1=\"+current_date+\"&p2=\"+current_category_item+\"&p3=\"+\$(\"#sales_type\").val()+\"&p4=0\", function (data) {\r\n                    profit = data.profit;\r\n                    total_sales = data.total_sales;\r\n                    manual_discount = data.manual_discount;\r\n                    total_profit = data.total_profit;\r\n                    total_expenses = data.total_expenses;\r\n                    total_sales_debts = data.total_sales_debts;\r\n                    total_sales_creditcards = data.total_sales_creditcards;\r\n                    total_sales_cheques = data.total_sales_cheques;\r\n                    total_sales_total = data.total_sales_total;\r\n                    total_credit_notes = data.total_credit_notes;\r\n                }).done(function () {\r\n                    //\$(\"#t_profit\").html(profit);\r\n                    \$(\"#total_sales\").html(total_sales+\" <small class='currency'>\"+currency+\"</small>\");\r\n                    \$(\"#total_sales_creditcard\").html(total_sales_creditcards+\" <small class='currency'>\"+currency+\"</small>\");\r\n                    \r\n                        \$(\"#tm_discount\").html(manual_discount+\" <small class='currency'>\"+currency+\"</small>\");\r\n                    \r\n                    \$(\"#total_profit\").html(total_profit+\" <small class='currency'>\"+currency+\"</small>\");\r\n                   \r\n                    \$(\"#total_expenses\").html(total_expenses+\" <small class='currency'>\"+currency+\"</small>\");\r\n                    \$(\"#total_sales_debts\").html(total_sales_debts+\" <small class='currency'>\"+currency+\"</small>\");\r\n                    \$(\"#total_sales_cheques\").html(total_sales_cheques+\" <small class='currency'>\"+currency+\"</small>\");\r\n                    \$(\"#total_sales_total\").html(total_sales_total+\" <small class='currency'>\"+currency+\"</small>\");\r\n                    \$(\"#total_credit_notes\").html(total_credit_notes+\" <small class='currency'>\"+currency+\"</small>\");\r\n                    \r\n                    \r\n                    \$(\".sk-circle-layer\").hide();\r\n                });\r\n            }\r\n   \r\n            \r\n        </script>\r\n    </head>\r\n    <body>\r\n        \r\n        <!-- Navbar fixed top -->\r\n        ";
include "application/mvc/views/topMenu.php";
echo "        <div class=\"container\" >\r\n            <div class=\"panel panel-default\">\r\n                <div class=\"panel-body\" style=\"margin-top: 50px;\">\r\n                    \r\n                    <div class=\"row\"  >\r\n                        <div class=\"col-lg-12 col-md-12 col-sm-12\" >           \r\n                            <table id=\"report__by_day_items\" class=\"table table-striped table-bordered \" cellspacing=\"0\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th style=\"width: 30px;\">Item</th>\r\n                                        <th style=\"width: 70px;\">Barcode</th>\r\n                                        <th>Description</th>\r\n                                        <th style=\"width: 20px;\">QTY</th>\r\n                                        <th style=\"width: 35px;\">Stock</th>\r\n                                        <th style=\"width: 80px;\">Unit cost</th>\r\n                                        <th style=\"width: 80px;\">Unit price</th>\r\n                                        <th style=\"width: 20px; background-color: ";
echo $data["row_discounted_color_in_report"];
echo " !important;\">Dis.</th>\r\n                                        <th style=\"width: 20px;\">Vat</th>\r\n                                        <th style=\"width: 60px;\">Total</th>\r\n                                        \r\n                                        <th style=\"width: 80px;\">Total Price</th>\r\n                                        <th style=\"width: 80px;\">Profit</th>\r\n                                        <th style=\"width: 80px;\">P. Margin</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tfoot>\r\n                                    <tr>\r\n                                        <th>Item</th>\r\n                                        <th>Barcode</th>\r\n                                        <th>Description</th>\r\n                                        <th>QTY</th>\r\n                                        <th >In Stock</th>\r\n                                        <th>Unit cost</th>\r\n                                        <th>Unit price</th>\r\n                                        <th>Discount</th>\r\n                                        <th>Vat</th>\r\n                                        <th>Total</th>\r\n                                        \r\n                                        <th>Total Price</th>\r\n                                        <th>Profit</th>\r\n                                        <th>Profit Margin</th>\r\n                                    </tr>\r\n                                </tfoot>\r\n                                <tbody></tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    \r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <div class=\"sk-circle-layer\">\r\n            <div class=\"sk-circle\">\r\n                <div class=\"sk-circle1 sk-child\"></div>\r\n                <div class=\"sk-circle2 sk-child\"></div>\r\n                <div class=\"sk-circle3 sk-child\"></div>\r\n                <div class=\"sk-circle4 sk-child\"></div>\r\n                <div class=\"sk-circle5 sk-child\"></div>\r\n                <div class=\"sk-circle6 sk-child\"></div>\r\n                <div class=\"sk-circle7 sk-child\"></div>\r\n                <div class=\"sk-circle8 sk-child\"></div>\r\n                <div class=\"sk-circle9 sk-child\"></div>\r\n                <div class=\"sk-circle10 sk-child\"></div>\r\n                <div class=\"sk-circle11 sk-child\"></div>\r\n                <div class=\"sk-circle12 sk-child\"></div>\r\n            </div>\r\n        </div>\r\n    </body>\r\n</html>\r\n\r\n";

?>