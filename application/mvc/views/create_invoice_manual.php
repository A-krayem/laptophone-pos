<?php
/*
 * @ https://EasyToYou.eu - IonCube v11 Decoder Online
 * @ PHP 5.6
 * @ Decoder version: 1.0.4
 * @ Release: 02/06/2020
 *
 * @ ZendGuard Decoder PHP 5.6
 */

// Decoded file for php version 53.
echo "<!DOCTYPE html>\r\n<!--\r\nTo change this license header, choose License Headers in Project Properties.\r\nTo change this template file, choose Tools | Templates\r\nand open the template in the editor.\r\n-->\r\n<html>\r\n    <head>\r\n        <title>";
echo $_SESSION["page_title"];
echo " Invoices</title>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <link rel=\"icon\" type=\"image/png\" href=\"resources/favicon.png\">\r\n        \r\n        <script src=\"libraries/jquery-3.1.1.min.js\" type=\"text/javascript\"></script>\r\n\r\n        <script src=\"libraries/bootstrap-3.3.7-dist/js/bootstrap.min.js\" type=\"text/javascript\"></script>\r\n        <link href=\"libraries/bootstrap-3.3.7-dist/css/bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n        <script src=\"libraries/bootstrap-plugins/DataTables-1.10.13/media/js/jquery.dataTables.min.js\" type=\"text/javascript\"></script>\r\n        <script src=\"libraries/bootstrap-plugins/DataTables-1.10.13/media/js/dataTables.bootstrap.min.js\" type=\"text/javascript\"></script>\r\n        <link href=\"libraries/bootstrap-plugins/DataTables-1.10.13/media/css/dataTables.bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n\r\n        <script src=\"libraries/bootstrap-plugins/DataTables-1.10.13/extensions/Select/js/dataTables.select.min.js\" type=\"text/javascript\"></script>\r\n\r\n        <link href=\"libraries/bootstrap-plugins/export/buttons.dataTables.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n        <script src=\"libraries/bootstrap-plugins/export/dataTables.buttons.min.js\" type=\"text/javascript\"></script>\r\n        <script src=\"libraries/bootstrap-plugins/export/jszip.min.js\" type=\"text/javascript\"></script>\r\n        <script src=\"libraries/bootstrap-plugins/export/vfs_fonts.js\" type=\"text/javascript\"></script>\r\n        <script src=\"libraries/bootstrap-plugins/export/buttons.html5.min.js\" type=\"text/javascript\"></script>\r\n\r\n        <script src=\"libraries/jquery.mask.min.js\" type=\"text/javascript\"></script>\r\n        \r\n        <script src=\"libraries/bootstrap-plugins/Buttons-1.2.4/js/buttons.bootstrap.min.js\" type=\"text/javascript\"></script>\r\n        <link href=\"libraries/bootstrap-plugins/Buttons-1.2.4/css/buttons.bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n        \r\n        <script src=\"application/mvc/views/custom_libraries/javascripts/global_functions.js?rnd=";
echo self::generateRandomStringComplex();
echo "\" type=\"text/javascript\"></script>\r\n        <script src=\"application/mvc/views/custom_libraries/javascripts/global.js?rnd=";
echo self::generateRandomStringComplex();
echo "\" type=\"text/javascript\"></script>\r\n\r\n        <script src=\"libraries/bootstrap-plugins/bootstrap-select-master/bootstrap-select-master/dist/js/bootstrap-select.min.js\" type=\"text/javascript\"></script>\r\n        <link href=\"libraries/bootstrap-plugins/bootstrap-select-master/bootstrap-select-master/dist/css/bootstrap-select.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n        <link href=\"application/mvc/views/custom_libraries/css/global.css?rnd=";
echo self::generateRandomStringComplex();
echo "\" rel=\"stylesheet\" type=\"text/css\"/>\r\n        \r\n        <script src=\"libraries/bootstrap-plugins/libs/bootstrap-confirmation.min.js\" type=\"text/javascript\"></script>\r\n        \r\n        <script src=\"libraries/bootstrap-plugins/bootstrap-sweetalert-master/dist/sweetalert.min.js\" type=\"text/javascript\"></script>\r\n        <link href=\"libraries/bootstrap-plugins/bootstrap-sweetalert-master/dist/sweetalert.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n        <script src=\"libraries/numeric.js\" type=\"text/javascript\"></script>\r\n        \r\n        <link href=\"application/mvc/views/custom_libraries/svgs/font/style.css?rnd=";
echo self::generateRandomStringComplex();
echo "\" rel=\"stylesheet\" type=\"text/css\"/>\r\n        <script src=\"application/mvc/views/custom_libraries/javascripts/debit_note.js?rnd=";
echo self::generateRandomStringComplex();
echo "\" type=\"text/javascript\"></script>\r\n        \r\n        <!-- Include Date Range Picker -->\r\n        <script src=\"libraries/bootstrap-plugins/daterangepicker-master/moment.min.js\" type=\"text/javascript\"></script>\r\n        <script src=\"libraries/bootstrap-plugins/daterangepicker-master/daterangepicker.js\" type=\"text/javascript\"></script>\r\n        <link href=\"libraries/bootstrap-plugins/daterangepicker-master/daterangepicker.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n        <script src=\"libraries/cleave.js-master/dist/cleave.min.js\" type=\"text/javascript\"></script>        \r\n        <style type=\"text/css\">\r\n            .container,.panel {\r\n                height:100%;\r\n                width: 100%;\r\n                padding: 0px !important;\r\n                margin: 0px !important;\r\n            }\r\n            \r\n            .table>tfoot>tr>th{\r\n                font-size: 12px !important;\r\n                background-color: #F3F3F3;\r\n                padding: 2px;\r\n                border: none !important;\r\n            }\r\n            \r\n            .dataTables_filter { display: none; }\r\n            \r\n            .input-sm{\r\n                height: 25px !important;\r\n            }\r\n            \r\n            .selected{\r\n                background-color: #337ab7 !important;\r\n                color: #ffffff !important;\r\n            }\r\n            \r\n            .search_filter{\r\n                width: 100% !important;\r\n                color: #000;\r\n            }\r\n            \r\n            \r\n            ::-webkit-input-placeholder { /* Chrome/Opera/Safari */\r\n                color: #337ab7;\r\n                opacity: 0.9;\r\n            }\r\n            ::-moz-placeholder { /* Firefox 19+ */\r\n                color: #337ab7;\r\n                opacity: 0.9;\r\n            }\r\n            :-ms-input-placeholder { /* IE 10+ */\r\n                color: #337ab7;\r\n                opacity: 0.9;\r\n            }\r\n            :-moz-placeholder { /* Firefox 18- */\r\n                color: #337ab7;\r\n                opacity: 0.9;\r\n            }\r\n            \r\n            .bootstrap-select{\r\n                width: 100% !important;\r\n            }\r\n            \r\n            .cell_inv{\r\n                border-radius: 0px !important;\r\n            }\r\n            \r\n            .cell_inv_cont{\r\n                padding-left: 2px !important;\r\n                padding-right: 2px !important;\r\n            }\r\n            \r\n            .cell_inv_cont_left{\r\n                padding-left: 2px !important;\r\n            }\r\n            \r\n            .cell_inv_cont_right{\r\n                padding-right: 2px !important;\r\n            }\r\n            \r\n            .title_invoice{\r\n                font-size: 16px;\r\n                text-decoration: underline;\r\n            }\r\n            \r\n            .short_cut{\r\n                font-size: 18px;\r\n                cursor: pointer;\r\n            }\r\n            \r\n            .rowdiff{\r\n                background-color: #F3F3F3\r\n            }\r\n            \r\n            .rowdiff input{\r\n                background-color: #F3F3F3\r\n            }\r\n            \r\n            .input-sm{\r\n                padding: 1px !important;\r\n                font-size: 14px !important;\r\n            }\r\n            \r\n            .form-control{\r\n                width: 99%;\r\n            }\r\n            \r\n            .btn{\r\n                border-radius: 0px !important;\r\n                padding-top: 2px !important;\r\n                padding-bottom: 2px !important;\r\n            }\r\n            \r\n            label{\r\n                margin-bottom: 0px !important;\r\n            }\r\n            \r\n            .input-sm{\r\n                \r\n                padding-top: 2px !important;\r\n                padding-bottom: 2px !important;\r\n                height: 28px !important;\r\n            }\r\n        </style>\r\n\r\n        <script type=\"text/javascript\"> \r\n            var all_currencies = [];\r\n           \r\n            \$(document).ready(function () {\r\n                \$.getJSON(\"?r=settings_info&f=get_needed_data\", function (data) {\r\n                    all_currencies = [];\r\n                    \$.each(data.currencies, function (key, val) {\r\n                        all_currencies.push({id:val.id,name:val.name,symbole:val.symbole,system_default:val.system_default,rate_to_system_default:val.rate_to_system_default});\r\n                    }); \r\n                }).done(function () {\r\n                    \$('.selectpicker').selectpicker({\r\n                        style: 'btn-info',\r\n                        size: 4\r\n                    });\r\n                    re_color_rows();\r\n                    \$(\"#search_barcode\").focus();\r\n                    \r\n                    \$(\"#total_invoice\").html(\"0 \"+\$(\"#selected_currency option:selected\").text());\r\n                    \$(\"#total_invoice_vat\").html(\"0 \"+\$(\"#selected_currency option:selected\").text());\r\n                    \$(\"#total_invoice_without_vat\").html(\"0 \"+\$(\"#selected_currency option:selected\").text());\r\n                });\r\n            });\r\n            \r\n            function get_item_by_barcode(){\r\n                var tmp = [];\r\n                \r\n                \$.getJSON(\"?r=pos&f=get_item_by_barcode&p0=\" + \$(\"#search_barcode\").val(), function (data) {\r\n                    tmp = data;\r\n                }).done(function () {\r\n                    if(tmp.length>0){\r\n                        if(\$(\"#qty_\"+tmp[0].id).length>0){\r\n                            \$(\"#qty_\"+tmp[0].id).val( parseFloat(\$(\"#qty_\"+tmp[0].id).val())+1 );\r\n                            \$(\"#search_barcode\").val(\"\");\r\n                        }else{\r\n                            var info = [];\r\n                            info.id = tmp[0].id;\r\n                            info.barcode = tmp[0].barcode;\r\n                            info.description = \"Description Description Description Description\";\r\n                            info.qty = 1;\r\n                            info.price = tmp[0].selling_price,2;\r\n                            info.discount = 20;\r\n                            info.vat = \"11\";\r\n                            info.total = tmp[0].selling_price*info.qty;\r\n                            create_row(info);\r\n                            \$(\"#search_barcode\").val(\"\");\r\n                        }\r\n                        re_calulate_row(tmp[0].id);\r\n                        calculate_all_invoice();\r\n                    }else{\r\n                        \$(\"#search_barcode\").val(\"\");\r\n                    }\r\n                });\r\n            }\r\n            \r\n            function calculate_all_invoice(){\r\n                var t = 0;\r\n                \$(\".row_item\").each(function( index ) {\r\n                    t+=calulate_row(\$(this).attr(\"id\").split('_')[1]);\r\n                });\r\n                \$(\"#total_invoice\").html(decimal_round(t,2)+\" \"+\$(\"#selected_currency option:selected\").text());\r\n            }\r\n            \r\n            function calulate_row(id){\r\n                var total = parseFloat(\$(\"#qty_\"+id).val())*parseFloat(\$(\"#price_\"+id).val().replace(/,/g , ''));\r\n\r\n                if(parseFloat(\$(\"#discount_\"+id).val())>0){\r\n                    total = total*(1-parseFloat(\$(\"#discount_\"+id).val())/100);\r\n                }\r\n                \r\n                if(parseFloat(\$(\"#vat_\"+id).val())>0){\r\n                    total = total*(1+parseFloat(\$(\"#vat_\"+id).val())/100);\r\n                }\r\n                \r\n                return total;\r\n            }\r\n            \r\n            function re_calulate_row(id){ \r\n                format_input_number(calulate_row(id),\"#total_\"+id,2,2);\r\n                calculate_all_invoice();\r\n            }\r\n            \r\n            function re_color_rows(){\r\n                var index = 0;\r\n                \$(\".row_item\").each(function( index ) {\r\n                    if(Math.abs(index % 2) == 1){\r\n                        \$(this).addClass(\"rowdiff\");\r\n                        index++;\r\n                    }\r\n                });\r\n            }\r\n            \r\n            \r\n            function create_row(info){\r\n                var rw = '<div id=\"row_'+info.id+'\" class=\"row row_item\" style=\"margin-top: 5px;\">\\n\\\r\n                    <div class=\"col-lg-2 col-md-2 col-sm-2 cell_inv_cont_right\">\\n\\\r\n                        <input class=\"form-control input-sm cell_inv\" value=\"'+info.barcode+'\" id=\"barcode_'+info.id+'\" type=\"text\">\\n\\\r\n                    </div>\\n\\\r\n                    <div class=\"col-lg-3 col-md-3 col-sm-3 cell_inv_cont\">\\n\\\r\n                        <input readonly class=\"form-control input-sm cell_inv\" value=\"'+info.description+'\" id=\"description_'+info.id+'\" type=\"text\">\\n\\\r\n                    </div>\\n\\\r\n                    <div class=\"col-lg-1 col-md-1 col-sm-1 cell_inv_cont\">\\n\\\r\n                        <input oninput=\"re_calulate_row('+info.id+')\" class=\"form-control input-sm cell_inv\" value=\"'+info.qty+'\" id=\"qty_'+info.id+'\" type=\"number\">\\n\\\r\n                    </div>\\n\\\r\n                    <div class=\"col-lg-1 col-md-1 col-sm-1 cell_inv_cont\">\\n\\\r\n                        <input onchange=\"re_calulate_row('+info.id+')\" class=\"form-control input-sm cell_inv\" value=\"'+info.price+'\" id=\"price_'+info.id+'\" type=\"text\">\\n\\\r\n                    </div>\\n\\\r\n                    <div class=\"col-lg-1 col-md-1 col-sm-1 cell_inv_cont\">\\n\\\r\n                        <input onchange=\"re_calulate_row('+info.id+')\" class=\"form-control input-sm cell_inv\" value=\"'+info.discount+'\" id=\"discount_'+info.id+'\" type=\"number\">\\n\\\r\n                    </div>\\n\\\r\n                    <div class=\"col-lg-1 col-md-1 col-sm-1 cell_inv_cont\">\\n\\\r\n                        <input onchange=\"re_calulate_row('+info.id+')\" class=\"form-control input-sm cell_inv\" value=\"'+info.vat+'\" id=\"vat_'+info.id+'\" type=\"text\">\\n\\\r\n                    </div>\\n\\\r\n                    <div class=\"col-lg-1 col-md-1 col-sm-1 cell_inv_cont\">\\n\\\r\n                        <input class=\"form-control input-sm cell_inv\" value=\"'+info.total+'\" id=\"total_'+info.id+'\" type=\"text\">\\n\\\r\n                    </div>\\n\\\r\n                    <div class=\"col-lg-1 col-md-1 col-sm-1 cell_inv_cont_left\">\\n\\\r\n                        <i class=\"glyphicon glyphicon-edit short_cut\" title=\"\" onclick=\"\"></i>\\n\\\r\n                        <i class=\"glyphicon glyphicon-trash short_cut red\" title=\"\" onclick=\"\"></i>\\n\\\r\n                    </div>\\n\\\r\n              </div>';\r\n              \$(\"#pbody\").append(rw);\r\n              re_color_rows();\r\n              format_input_number(info.price,\"#price_\"+info.id,2,2);\r\n              format_input_number(info.total,\"#total_\"+info.id,2,2);\r\n            }\r\n            \r\n            \t\r\n        </script>\r\n    </head>\r\n    <body>\r\n        \r\n        <!-- Navbar fixed top -->\r\n        ";
include "application/mvc/views/topMenu.php";
echo "        <div class=\"container\" >\r\n            <div class=\"panel panel-default\">\r\n                <div class=\"panel-body\" style=\"margin-top: 40px; background-color:#ffffff;\">\r\n                    <div class=\"row\" style=\"margin-top: 0px; background-color: #e7e7e7; height: 65px;\">\r\n                        <div class=\"col-lg-2 col-md-2 col-sm-2 cell_inv_cont_right\"> \r\n                            <label for=\"search_barcode\" style=\"font-size: 14px;\">Search Barcode</label>\r\n                            <input class=\"form-control input-sm\" id=\"search_barcode\" type=\"text\" onchange=\"get_item_by_barcode()\">\r\n                        </div>\r\n                        <div class=\"col-lg-2 col-md-2 col-sm-2 cell_inv_cont\"> \r\n                            <label for=\"\" style=\"font-size: 14px;\">Select Customer</label>\r\n                            <select class=\" selectpicker\" data-live-search=\"true\">\r\n                                <option>Mustard</option>\r\n                                <option>Ketchup</option>\r\n                                <option>Relish</option>\r\n                            </select>\r\n                        </div>\r\n                        <div class=\"col-lg-1 col-md-1 col-sm-1 cell_inv_cont\">   \r\n                            <label for=\"\" style=\"font-size: 14px;\">Currency</label>\r\n                            <select class=\"selectpicker\" id=\"selected_currency\">\r\n                                <option>USD</option>\r\n                                <option>LBP</option>\r\n                            </select>\r\n                        </div>\r\n                       <div class=\"col-lg-1 col-md-1 col-sm-1 cell_inv_cont\"> \r\n                            <label for=\"rate\" style=\"font-size: 14px;\">rate</label>\r\n                            <input class=\"form-control input-sm\" id=\"rate\" type=\"number\">\r\n                        </div>\r\n                        <div class=\"col-lg-2 col-md-2 col-sm-2\">   \r\n                            <label for=\"\" style=\"font-size: 14px;\">Payment</label>\r\n                            <select class=\"selectpicker\">\r\n                                <option>Cash</option>\r\n                                <option>Credit Card</option>\r\n                                <option>Later</option>\r\n                                <option>Cheque</option>\r\n                            </select>\r\n                        </div>\r\n                        <div class=\"col-lg-2 col-md-2\">           \r\n                        </div>\r\n                    </div>\r\n                    \r\n                    <div class=\"row\" style=\"margin-top: 10px;overflow-y: scroll\">\r\n                        <div class=\"col-lg-2 col-md-2 col-sm-2 cell_inv_cont_right\"> \r\n                            <b class=\"title_invoice\">Barcode</b>\r\n                        </div>\r\n                        <div class=\"col-lg-3 col-md-3 col-sm-3 cell_inv_cont\">  \r\n                            <b class=\"title_invoice\">Description</b>\r\n                        </div>\r\n                        <div class=\"col-lg-1 col-md-1 col-sm-1 cell_inv_cont\">  \r\n                            <b class=\"title_invoice\">Quantity</b>\r\n                        </div>\r\n                        <div class=\"col-lg-1 col-md-1 col-sm-1 cell_inv_cont\">  \r\n                            <b class=\"title_invoice\">Unit Price</b>\r\n                        </div>\r\n                        <div class=\"col-lg-1 col-md-1 col-sm-1 cell_inv_cont\">  \r\n                            <b class=\"title_invoice\">Discount (%)</b>\r\n                        </div>\r\n                        <div class=\"col-lg-1 col-md-1 col-sm-1 cell_inv_cont\">  \r\n                           <b class=\"title_invoice\">VAT (%)</b>\r\n                        </div>\r\n                        <div class=\"col-lg-1 col-md-1 col-sm-1 cell_inv_cont\">  \r\n                           <b class=\"title_invoice\">Total</b>\r\n                        </div>\r\n                        <div class=\"col-lg-1 col-md-1 col-sm-1 cell_inv_cont_left\">  \r\n                           &nbsp;\r\n                        </div>\r\n                    </div>\r\n                    \r\n                    \r\n                    \r\n                    <div  class=\"row\" style=\" max-height: 350px; min-height: 350px; overflow-y: scroll\">\r\n                        <div class=\"col-lg-12 col-md-12 col-sm-12\" id=\"pbody\"></div>\r\n                    </div>\r\n                    <div  class=\"row\" style=\" max-height: 60px; min-height: 60px; margin-top: 10px;\">\r\n                        \r\n                        <div class=\"col-lg-3 col-md-3 col-sm-3\" style=\"background-color: #337ab7; color: #ffffff ;height: 60px;\">\r\n                            <b style=\"font-size: 18px;\">SUB-TOTAL:</b> <span style=\"font-size: 18px;\" id=\"total_invoice_without_vat\"></span>\r\n                            <br/>\r\n                            <b style=\"font-size: 18px;\">VAT:</b> <span style=\"font-size: 18px;\" id=\"total_invoice_vat\"></span>\r\n                        </div>\r\n                        \r\n                        \r\n                        <div class=\"col-lg-3 col-md-3 col-sm-3\" style=\"background-color: #337ab7;color: #ffffff;height: 60px;\">\r\n                            <b style=\"font-size: 30px;\">TOTAL:</b> <span style=\"font-size: 30px;\" id=\"total_invoice\"></span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <div class=\"sk-circle-layer\">\r\n            <div class=\"sk-circle\">\r\n                <div class=\"sk-circle1 sk-child\"></div>\r\n                <div class=\"sk-circle2 sk-child\"></div>\r\n                <div class=\"sk-circle3 sk-child\"></div>\r\n                <div class=\"sk-circle4 sk-child\"></div>\r\n                <div class=\"sk-circle5 sk-child\"></div>\r\n                <div class=\"sk-circle6 sk-child\"></div>\r\n                <div class=\"sk-circle7 sk-child\"></div>\r\n                <div class=\"sk-circle8 sk-child\"></div>\r\n                <div class=\"sk-circle9 sk-child\"></div>\r\n                <div class=\"sk-circle10 sk-child\"></div>\r\n                <div class=\"sk-circle11 sk-child\"></div>\r\n                <div class=\"sk-circle12 sk-child\"></div>\r\n            </div>\r\n        </div>\r\n    </body>\r\n</html>\r\n\r\n";

?>