<?php
/*
 * @ https://EasyToYou.eu - IonCube v11 Decoder Online
 * @ PHP 5.6
 * @ Decoder version: 1.0.4
 * @ Release: 02/06/2020
 *
 * @ ZendGuard Decoder PHP 5.6
 */

// Decoded file for php version 53.
echo "<!DOCTYPE html>\r\n<!--\r\nTo change this license header, choose License Headers in Project Properties.\r\nTo change this template file, choose Tools | Templates\r\nand open the template in the editor.\r\n-->\r\n<html>\r\n    <head>\r\n        <title>";
echo $_SESSION["page_title"];
echo " Days Package</title>\r\n        <meta charset=\"UTF-8\">\r\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <link rel=\"icon\" type=\"image/png\" href=\"resources/favicon.png\">\r\n\r\n        <script src=\"libraries/jquery-3.1.1.min.js\" type=\"text/javascript\"></script>\r\n\r\n        <script src=\"libraries/bootstrap-3.3.7-dist/js/bootstrap.min.js\" type=\"text/javascript\"></script>\r\n        <link href=\"libraries/bootstrap-3.3.7-dist/css/bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n        <script src=\"libraries/bootstrap-plugins/DataTables-1.10.13/media/js/jquery.dataTables.min.js\" type=\"text/javascript\"></script>\r\n        <script src=\"libraries/bootstrap-plugins/DataTables-1.10.13/media/js/dataTables.bootstrap.min.js\" type=\"text/javascript\"></script>\r\n        <link href=\"libraries/bootstrap-plugins/DataTables-1.10.13/media/css/dataTables.bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n\r\n        <script src=\"libraries/bootstrap-plugins/DataTables-1.10.13/extensions/Select/js/dataTables.select.min.js\" type=\"text/javascript\"></script>\r\n\r\n        <script src=\"libraries/bootstrap-plugins/Buttons-1.2.4/js/dataTables.buttons.min.js\" type=\"text/javascript\"></script>\r\n        \r\n        <script src=\"libraries/bootstrap-plugins/Buttons-1.2.4/js/buttons.bootstrap.min.js\" type=\"text/javascript\"></script>\r\n        <link href=\"libraries/bootstrap-plugins/Buttons-1.2.4/css/buttons.bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n        \r\n        <link href=\"libraries/bootstrap-plugins/datepicker-master/dist/css/bootstrap-datepicker.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n        <script src=\"libraries/bootstrap-plugins/datepicker-master/dist/js/bootstrap-datepicker.min.js\" type=\"text/javascript\"></script>\r\n        \r\n        <script src=\"application/mvc/views/custom_libraries/javascripts/global_functions.js?rnd=";
echo self::generateRandomStringComplex();
echo "\" type=\"text/javascript\"></script>\r\n        <script src=\"application/mvc/views/custom_libraries/javascripts/global.js?rnd=";
echo self::generateRandomStringComplex();
echo "\" type=\"text/javascript\"></script>\r\n\r\n        <script src=\"libraries/bootstrap-plugins/bootstrap-select-master/bootstrap-select-master/dist/js/bootstrap-select.min.js\" type=\"text/javascript\"></script>\r\n        <link href=\"libraries/bootstrap-plugins/bootstrap-select-master/bootstrap-select-master/dist/css/bootstrap-select.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n        <link href=\"application/mvc/views/custom_libraries/css/global.css?rnd=";
echo self::generateRandomStringComplex();
echo "\" rel=\"stylesheet\" type=\"text/css\"/>\r\n        \r\n         <script src=\"libraries/bootstrap-plugins/bootstrap-select-master/bootstrap-select-master/dist/js/bootstrap-select.min.js\" type=\"text/javascript\"></script>\r\n        <link href=\"libraries/bootstrap-plugins/bootstrap-select-master/bootstrap-select-master/dist/css/bootstrap-select.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n        \r\n        <script src=\"libraries/numeric.js\" type=\"text/javascript\"></script>\r\n        \r\n        <script src=\"libraries/bootstrap-plugins/libs/bootstrap-confirmation.min.js\" type=\"text/javascript\"></script>\r\n        \r\n        <script src=\"libraries/bootstrap-plugins/bootstrap-sweetalert-master/dist/sweetalert.min.js\" type=\"text/javascript\"></script>\r\n        <link href=\"libraries/bootstrap-plugins/bootstrap-sweetalert-master/dist/sweetalert.css\" rel=\"stylesheet\" type=\"text/css\"/>\r\n       \r\n        <link href=\"application/mvc/views/custom_libraries/svgs/font/style.css?rnd=";
echo self::generateRandomStringComplex();
echo "\" rel=\"stylesheet\" type=\"text/css\"/>\r\n        <script src=\"libraries/bootstrap-plugins/bootstrap3-typeahead/bootstrap3-typeahead.min.js\" type=\"text/javascript\"></script>\r\n        <script src=\"libraries/cleave.js-master/dist/cleave.min.js\" type=\"text/javascript\"></script>\r\n        <style type=\"text/css\">\r\n            .container,.panel {\r\n                height:100%;\r\n                width: 100%;\r\n                padding: 0px !important;\r\n                margin: 0px !important;\r\n            }\r\n            \r\n\r\n            \r\n            .table>tfoot>tr>th{\r\n                font-size: 12px !important;\r\n                background-color: #F3F3F3;\r\n                padding: 2px;\r\n                border: none !important;\r\n            }\r\n            \r\n            .dataTables_filter{ display: none; }\r\n            \r\n            .input-sm{\r\n                height: 25px !important;\r\n                font-size: 16px !important;\r\n            }\r\n            \r\n            .selected{\r\n                background-color: #337ab7 !important;\r\n                color: #ffffff !important;\r\n            }\r\n            \r\n            .search_filter{\r\n                width: 100% !important;\r\n                color: #000;\r\n            }\r\n            \r\n            \r\n            ::-webkit-input-placeholder { /* Chrome/Opera/Safari */\r\n                color: #337ab7;\r\n                opacity: 0.9;\r\n            }\r\n            ::-moz-placeholder { /* Firefox 19+ */\r\n                color: #337ab7;\r\n                opacity: 0.9;\r\n            }\r\n            :-ms-input-placeholder { /* IE 10+ */\r\n                color: #337ab7;\r\n                opacity: 0.9;\r\n            }\r\n            :-moz-placeholder { /* Firefox 18- */\r\n                color: #337ab7;\r\n                opacity: 0.9;\r\n            }\r\n            \r\n            /* enable absolute positioning */\r\n            .inner-addon { \r\n                position: relative; \r\n            }\r\n\r\n            /* style icon */\r\n            .inner-addon .glyphicon {\r\n              position: absolute;\r\n              padding: 6px;\r\n              padding-top: 8px;\r\n              pointer-events: none;\r\n            }\r\n\r\n            /* align icon */\r\n            .left-addon .glyphicon  { left:  0px;}\r\n            .right-addon .glyphicon { right: 0px;}\r\n\r\n            /* add padding  */\r\n            .left-addon input  { padding-left:  5px; }\r\n            .right-addon input { padding-right: 30px; }\r\n            \r\n            .phone-input{\r\n                    margin-bottom:8px;\r\n            }\r\n            \r\n            .confirmation {\r\n                width: 160px;\r\n            }\r\n            \r\n            .list-group-item{\r\n                border: none !important;\r\n            }\r\n            \r\n            div.toolbar h3{\r\n                margin-top: 0px !important;\r\n            }\r\n            \r\n            #add_new_expenses input{\r\n                font-size: 16px !important;\r\n            }\r\n            \r\n            .table-nonfluid {\r\n                width: auto !important;\r\n             }\r\n        </style>\r\n\r\n        <script type=\"text/javascript\">\r\n            var mobilePKG_table = null;\r\n           \r\n            \$(document).ready(function () {\r\n                \$('#items_table').show();\r\n                \r\n                \$(\".sk-circle\").center();\r\n                \$(\".sk-circle-layer\").show();\r\n                \r\n                var search_fields = [0,1,2,3,4,5,6,7,8];\r\n                var index = 0;\r\n                \$('#mobilePKG_table tfoot th').each( function () {\r\n                    if(jQuery.inArray(index, search_fields) !== -1){\r\n                        var title = \$(this).text();\r\n                        \$(this).html( '<div class=\"inner-addon left-addon\"><input style=\"width: 100% !important;\" class=\"form-control input-sm\" type=\"text\" placeholder=\" '+title+'\" /></div>' );\r\n                        index++;\r\n                    }\r\n                });\r\n                \r\n                mobilePKG_table = \$('#mobilePKG_table').dataTable({\r\n                    ajax: \"?r=mobile_store&f=getDaysPackages\",\r\n                    orderCellsTop: true,\r\n                    aoColumnDefs: [\r\n                        { \"targets\": [0], \"searchable\": true, \"orderable\": true, \"visible\": true },\r\n                        { \"targets\": [1], \"searchable\": true, \"orderable\": false, \"visible\": true },\r\n                        { \"targets\": [2], \"searchable\": true, \"orderable\": false, \"visible\": true },\r\n                        { \"targets\": [3], \"searchable\": true, \"orderable\": false, \"visible\": true },\r\n                        { \"targets\": [4], \"searchable\": true, \"orderable\": false, \"visible\": true },\r\n                        { \"targets\": [5], \"searchable\": true, \"orderable\": false, \"visible\": true },\r\n                        { \"targets\": [6], \"searchable\": true, \"orderable\": false, \"visible\": true },\r\n                        { \"targets\": [7], \"searchable\": true, \"orderable\": false, \"visible\": true },\r\n                        { \"targets\": [8], \"searchable\": true, \"orderable\": false, \"visible\": true },\r\n                        { \"targets\": [9], \"searchable\": true, \"orderable\": false, \"visible\": true },\r\n                    ],\r\n                    scrollY: '60vh',\r\n                    scrollCollapse: true,\r\n                    paging: true,\r\n                    dom: '<\"toolbar\">frtip',\r\n                    initComplete: function( settings ) {\r\n                        var table = \$('#mobilePKG_table').DataTable();\r\n                        table.row(':eq(0)', { page: 'current' }).select();\r\n                        \r\n                        \$(\"div.toolbar\").html('<h3><i class=\"icon-smartphone\" style=\"font-size:26px;\"></i>&nbsp;Add days package</h3><div id=\"tab_toolbar\" class=\"btn-group\" role=\"group\" aria-label=\"\">\\n\\\r\n                            <button onclick=\"addPackage()\" type=\"button\" class=\"btn btn-default \"><i class=\"glyphicon glyphicon-plus\"></i>&nbsp;Add days package</button>\\n\\\r\n                        </div>\\n\\\r\n                        ');\r\n                        \r\n                        \$(\".sk-circle-layer\").hide();\r\n\r\n                    },\r\n                    fnRowCallback: function (nRow, aData, iDisplayIndex, iDisplayIndexFull) {\r\n                        \$(nRow).addClass(aData[0]);\r\n                    },\r\n                    fnDrawCallback: setRowM,\r\n                });\r\n                \r\n          \r\n                \$('#mobilePKG_table').on( 'page.dt', function () {\r\n                    \$(\".selected\").removeClass(\"selected\");\r\n                    \$(\"#tab_toolbar button.blueB\").addClass(\"disabled\");\r\n                } );\r\n                \r\n                \$('#mobilePKG_table').DataTable().columns().every( function () {\r\n                    var that = this;\r\n                    \$( 'input', this.footer() ).on( 'keyup change', function () {\r\n                        if ( that.search() !== this.value ) {\r\n                            that.search( this.value ).draw();\r\n                        }\r\n                    } );\r\n                } );\r\n                \r\n                \r\n                \$(\"#mobilePKG_table tbody\").delegate(\"tr\", \"mousedown\", function(event){\r\n                    \$('.selected').removeClass(\"selected\");\r\n                    \$(this).addClass('selected');\r\n                });\r\n\r\n              \r\n\r\n            });\r\n            \r\n            function setRowM(){\r\n                var table = \$('#mobilePKG_table').DataTable();\r\n                var p = table.rows({ page: 'current' }).nodes();\r\n                for (var k = 0; k < p.length; k++){\r\n                    var index = table.row(p[k]).index();\r\n                    table.cell(index, 9).data(\"<i onclick='edit_package____(\"+parseInt(table.cell(index, 0).data().split('-')[1])+\")' title='Edit' class='glyphicon glyphicon-edit' style='font-size:18px;cursor:pointer'></i>&nbsp;&nbsp;<i onclick='delete_package____(\"+parseInt(table.cell(index, 0).data().split('-')[1])+\")' title='Delete' class='glyphicon glyphicon-trash red' style='font-size:18px;cursor:pointer'></i>\");\r\n                }\r\n            }\r\n            \r\n            function edit_package____(id){\r\n                edit_package(id);\r\n            }\r\n            \r\n            function delete_package____(id){\r\n                swal({\r\n                    title: \"Are you sure?\",\r\n                    text: \"\",\r\n                    type: \"warning\",\r\n                    showCancelButton: true,\r\n                    confirmButtonClass: \"btn-danger\",\r\n                    confirmButtonText: \"Yes, delete it!\",\r\n                    closeOnConfirm: true\r\n                },\r\n                function(isConfirm){\r\n                   if(isConfirm){\r\n                        \$.getJSON(\"?r=mobile_store&f=delete_pkg&p0=\"+id , function (data) {\r\n                            var dt = \$('#mobilePKG_table').DataTable();\r\n                            dt.row('.selected').remove().draw(false);\r\n                        }).done(function () {\r\n\r\n                        });\r\n                   }\r\n                }); \r\n            }\r\n  \r\n           \r\n            function addPackage() {\r\n                var options = \"\";\r\n                \$(\".sk-circle\").center();\r\n                \$(\".sk-circle-layer\").show();\r\n                \$.getJSON(\"?r=mobile_store&f=getOperators\", function (data) {\r\n                    var index = 0;\r\n                    \$.each(data, function (key, val) {\r\n                        if (index == 0) {\r\n                            options += \"<option selected value=\" + val.id + \">\" + val.name + \"</option>\";\r\n                        } else {\r\n                            options += \"<option value=\" + val.id + \">\" + val.name + \"</option>\";\r\n                        }\r\n                        index++;\r\n                    });\r\n                }).done(function () {\r\n                    \r\n                    var content =\r\n                        '<div class=\"modal\" data-backdrop=\"static\" id=\"add_new_package\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLongTitle\" aria-hidden=\"true\">\\n\\\r\n                            <div class=\"modal-dialog\" role=\"document\">\\n\\\r\n                            <div class=\"modal-content\">\\n\\\r\n                                <form id=\"add_new_package_form\" action=\"\" method=\"post\" enctype=\"multipart/form-data\" >\\n\\\r\n                                <input id=\"id_to_edit\" name=\"id_to_edit\" type=\"hidden\" value=\"0\" />\\n\\\r\n                                <div class=\"modal-header\"> \\n\\\r\n                                    <h3 class=\"modal-title\" id=\"exampleModalLongTitle\"><i class=\"glyphicon glyphicon-usd\"></i>&nbsp;Add days package</h3>\\n\\\r\n                                </div>\\n\\\r\n                                <div class=\"modal-body\">\\n\\\r\n                                    <div class=\"row\">\\n\\\r\n                                        <div class=\"col-xs-4\">\\n\\\r\n                                            <div class=\"form-group\">\\n\\\r\n                                                <label for=\"expense_type\">Select operator</label>\\n\\\r\n                                                <select id=\"operator_id\" name=\"operator_id\" class=\"selectpicker form-control\" >' + options + '</select>\\n\\\r\n                                            </div>\\n\\\r\n                                        </div>\\n\\\r\n                                        <div class=\"col-xs-4\">\\n\\\r\n                                            <div class=\"form-group\">\\n\\\r\n                                                <label for=\"expense_type\">With credits</label>\\n\\\r\n                                                <div class=\"inner-addon left-addon addon_item_icon\"><input id=\"dollars_nb\" name=\"dollars_nb\" value=\"0\" type=\"text\" class=\"form-control only_numeric\" placeholder=\"\"></div>\\n\\\r\n                                            </div>\\n\\\r\n                                        </div>\\n\\\r\n                                        <div class=\"col-xs-4\">\\n\\\r\n                                            <div class=\"form-group\">\\n\\\r\n                                                <label for=\"expense_type\">days</label>\\n\\\r\n                                                <div class=\"inner-addon left-addon addon_item_icon\"><input id=\"days_nb\" name=\"days_nb\" value=\"0\" type=\"text\" class=\"form-control only_numeric\" placeholder=\"\"></div>\\n\\\r\n                                            </div>\\n\\\r\n                                        </div>\\n\\\r\n                                    </div>\\n\\\r\n                                    <div class=\"row\">\\n\\\r\n                                        <div class=\"col-xs-4\">\\n\\\r\n                                            <div class=\"form-group\">\\n\\\r\n                                                <label for=\"expense_date\">Price</label>\\n\\\r\n                                                <div class=\"inner-addon left-addon addon_item_icon\"><input id=\"price\" name=\"price\" value=\"0\"  type=\"text\" class=\"form-control only_numeric\"></div>\\n\\\r\n                                            </div>\\n\\\r\n                                        </div>\\n\\\r\n                                        <div class=\"col-xs-4\">\\n\\\r\n                                            <div class=\"form-group\">\\n\\\r\n                                                <label for=\"expense_date\">Credits to return</label>\\n\\\r\n                                                <div class=\"inner-addon left-addon addon_item_icon\"><input id=\"c_return\" name=\"c_return\" value=\"0\"  type=\"text\" class=\"form-control only_numeric\"></div>\\n\\\r\n                                            </div>\\n\\\r\n                                        </div>\\n\\\r\n                                        <div class=\"col-xs-4\">\\n\\\r\n                                            <div class=\"form-group\">\\n\\\r\n                                                <label for=\"expense_date\">Credits/Days cost</label>\\n\\\r\n                                                <div class=\"inner-addon left-addon addon_item_icon\"><input style=\"\" id=\"credits_cost\" name=\"credits_cost\" value=\"0\"  type=\"text\" class=\"form-control only_numeric\"></div>\\n\\\r\n                                            </div>\\n\\\r\n                                        </div>\\n\\\r\n                                    </div>\\n\\\r\n                                    <div class=\"row\">\\n\\\r\n                                        <div class=\"col-xs-8\">\\n\\\r\n                                            <div class=\"form-group\">\\n\\\r\n                                                <label for=\"expense_date\">Description</label>\\n\\\r\n                                                <div class=\"inner-addon left-addon addon_item_icon\"><input id=\"description\" name=\"description\" value=\"\"  type=\"text\" class=\"form-control\"></div>\\n\\\r\n                                            </div>\\n\\\r\n                                        </div>\\n\\\r\n                                        <div class=\"col-xs-4\">\\n\\\r\n                                            <div class=\"form-group\">\\n\\\r\n                                                <label for=\"expense_date\">Composite items</label>\\n\\\r\n                                                <input  id=\"comp_item_id\" name=\"comp_item_id\" value=\"0\" type=\"hidden\"><input autocomplete=\"off\"  id=\"comp_item\" name=\"comp_item\" value=\"\"  type=\"text\" class=\"form-control\">\\n\\\r\n                                            </div>\\n\\\r\n                                        </div>\\n\\\r\n                                    </div>\\n\\\r\n                                    <div class=\"row\">\\n\\\r\n                                        <div class=\"col-xs-4\">\\n\\\r\n                                            <div class=\"form-group\">\\n\\\r\n                                                <label for=\"recharge_line\">Recharge store line</label><br/>\\n\\\r\n                                                <input style=\"width:25px;height:25px;\" id=\"recharge_line\" name=\"recharge_line\" value=\"\"  type=\"checkbox\" />\\n\\\r\n                                            </div>\\n\\\r\n                                        </div>\\n\\\r\n                                    </div>\\n\\\r\n                                </div>\\n\\\r\n                                <div class=\"modal-footer\">\\n\\\r\n                                    <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\\n\\\r\n                                    <button id=\"action_btn\" type=\"submit\" class=\"btn btn-primary\">Add</button>\\n\\\r\n                                </div>\\n\\\r\n                                <form/>\\n\\\r\n                            </div>\\n\\\r\n                        </div>\\n\\\r\n                    </div>';\r\n\r\n                    \$('#add_new_package').remove();\r\n                    \$('body').append(content);\r\n                    \$('.selectpicker').selectpicker();\r\n                    \$(\".only_numeric\").numeric();\r\n                    submitPkg();\r\n                    \r\n                    \r\n                    \$('#add_new_package').on('shown.bs.modal', function (e) {\r\n                        \$(\".sk-circle-layer\").hide();\r\n                        type_ahead(\"?r=items&f=getitems_for_type_head\",\"comp_item\",0,\"\");                        \r\n                    });\r\n                    \$('#add_new_package').on('hide.bs.modal', function (e) {\r\n                        \$(\"#add_new_package\").remove();\r\n                    });\r\n                    \$('#add_new_package').modal('show');\r\n\r\n                });\r\n            }\r\n            \r\n            \r\n            function type_ahead(url,input_id,default_val,item_description){\r\n                \$.get(url, function(data){\r\n                    var \$input = \$(\"#\"+input_id);\r\n                    \$input.typeahead({\r\n                        source: data,\r\n                        autoSelect: true,\r\n                        fitToElement:false,\r\n                    });\r\n                    \r\n                    \$input.change(function() {\r\n                        var current = \$input.typeahead(\"getActive\");\r\n                        if (current) {\r\n                            if (current.name == \$input.val()) {\r\n                                \$(\"#comp_item_id\").val(current.id);\r\n                                \$(\"#comp_item\").css({ 'border-color' : ''});\r\n                            }\r\n                        } \r\n                    });\r\n                    \r\n                    \$(\"#comp_item_id\").val(default_val);\r\n                    \$(\"#comp_item\").val(item_description);\r\n\r\n                },'json')\r\n                .done(function(){\r\n                })\r\n                .fail(function() {\r\n                })\r\n                .always(function() {\r\n                });\r\n            }\r\n            \r\n            function check_composite_items(){\r\n                if(\$(\"#comp_item_id\").val()==0){\r\n                    \$(\"#comp_item\").css(\"border-color\", \"red\");\r\n                    return false;\r\n                    //\$(\"#comp_item\").attr()\r\n                }\r\n                return true;\r\n            }\r\n            \r\n            function submitPkg() {\r\n                \$(\"#add_new_package_form\").on('submit', (function (e) {\r\n                    e.preventDefault();\r\n                    if(\$(\"#dollars_nb\").val()==\"\") \$(\"#dollars_nb\").val(0);\r\n                    if(\$(\"#price\").val()==\"\") \$(\"#price\").val(0);\r\n                    if(check_composite_items()){\r\n                    //if (!emptyInput(\"expense_description\")) {\r\n                        \$(\".sk-circle-layer\").show();\r\n                        \$.ajax({\r\n                            url: \"?r=mobile_store&f=add_days_package\",\r\n                            type: \"POST\",\r\n                            data: new FormData(this),\r\n                            contentType: false,\r\n                            cache: false,\r\n                            processData: false,\r\n                            dataType: 'json',\r\n                            success: function (data)\r\n                            {\r\n                                \$('#add_new_package').modal('hide');\r\n                                \r\n                                var table = \$('#mobilePKG_table').DataTable();\r\n                                table.ajax.url('?r=mobile_store&f=getDaysPackages').load(function () {\r\n                                    table.page('last').draw(false);\r\n                                    table.row(':last', {page: 'current'}).select();\r\n                                    \$(\".sk-circle-layer\").hide();\r\n                                });\r\n                                \r\n                            }\r\n                        });\r\n                    }\r\n                }));\r\n            }\r\n            \r\n            function edit_package(id){\r\n                \$(\".sk-circle\").center();\r\n                \$(\".sk-circle-layer\").show();\r\n                var options = \"\";\r\n                 \$.getJSON(\"?r=mobile_store&f=getOperators\", function (data) {\r\n                    var index = 0;\r\n                    \$.each(data, function (key, val) {\r\n                        if (index == 0) {\r\n                            options += \"<option selected value=\" + val.id + \">\" + val.name + \"</option>\";\r\n                        } else {\r\n                            options += \"<option value=\" + val.id + \">\" + val.name + \"</option>\";\r\n                        }\r\n                        index++;\r\n                    });\r\n                }).done(function () {\r\n                    var idPKG = null;\r\n                    var operatorType = null;\r\n                    var qty = null;\r\n                    var price = null;\r\n                    var days = null;\r\n                    var c_return = null;\r\n                    var credits_days_cost = null;\r\n                    var description = null;\r\n                    var item_related = null;\r\n                    var item_description = null;\r\n                    var store_recharge = null;\r\n                    \$.getJSON(\"?r=mobile_store&f=get_days_package&p0=\"+id, function (data) {\r\n                        \$.each(data, function (key, val) {\r\n                            idPKG = val.id;\r\n                            operatorType = val.operator_id;\r\n                            qty = val.qty;\r\n                            price = val.price;\r\n                            days = val.days;\r\n                            c_return = val.return_credits;\r\n                            credits_days_cost = val.credit_cost;\r\n                            description = val.description;\r\n                            item_related = val.item_related;\r\n                            item_description = val.item_description;\r\n                            store_recharge = val.store_recharge;\r\n                        });\r\n                    }).done(function () {\r\n                            var content =\r\n                                '<div class=\"modal\" data-backdrop=\"static\" id=\"edit_package\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLongTitle\" aria-hidden=\"true\">\\n\\\r\n                                <div class=\"modal-dialog\" role=\"document\">\\n\\\r\n                                    <div class=\"modal-content\">\\n\\\r\n                                        <form id=\"edit_package_form\" action=\"\" method=\"post\" enctype=\"multipart/form-data\" >\\n\\\r\n                                        <input id=\"id_to_edit\" name=\"id_to_edit\" type=\"hidden\" value=\"'+idPKG+'\" />\\n\\\r\n                                        <div class=\"modal-header\"> \\n\\\r\n                                            <h3 class=\"modal-title\" id=\"exampleModalLongTitle\"><i class=\"glyphicon glyphicon-usd\"></i>&nbsp;Edit days package</h3>\\n\\\r\n                                        </div>\\n\\\r\n                                        <div class=\"modal-body\">\\n\\\r\n                                            <div class=\"row\">\\n\\\r\n                                                <div class=\"col-xs-4\">\\n\\\r\n                                                    <div class=\"form-group\">\\n\\\r\n                                                        <label for=\"expense_type\">Select operator</label>\\n\\\r\n                                                        <select id=\"operator_id\" name=\"operator_id\" class=\"selectpicker disabled form-control\" >' + options + '</select>\\n\\\r\n                                                    </div>\\n\\\r\n                                                </div>\\n\\\r\n                                                <div class=\"col-xs-4\">\\n\\\r\n                                                    <div class=\"form-group\">\\n\\\r\n                                                        <label for=\"expense_type\">With credits</label>\\n\\\r\n                                                        <div class=\"inner-addon left-addon addon_item_icon\"><input id=\"dollars_nb\" name=\"dollars_nb\" value=\"'+qty+'\" type=\"text\" class=\"form-control only_numeric\" placeholder=\"\"></div>\\n\\\r\n                                                    </div>\\n\\\r\n                                                </div>\\n\\\r\n                                                <div class=\"col-xs-4\">\\n\\\r\n                                                    <div class=\"form-group\">\\n\\\r\n                                                        <label for=\"expense_date\">Days</label>\\n\\\r\n                                                        <div class=\"inner-addon left-addon addon_item_icon\"><input id=\"days_nb\" name=\"days_nb\" value=\"'+days+'\"  type=\"text\" class=\"form-control only_numeric\"></div>\\n\\\r\n                                                    </div>\\n\\\r\n                                                </div>\\n\\\r\n                                            </div>\\n\\\r\n                                            <div class=\"row\">\\n\\\r\n                                                <div class=\"col-xs-4\">\\n\\\r\n                                                    <div class=\"form-group\">\\n\\\r\n                                                        <label for=\"expense_date\">Price</label>\\n\\\r\n                                                        <div class=\"inner-addon left-addon addon_item_icon\"><input id=\"price\" name=\"price\" value=\"'+price+'\"  type=\"text\" class=\"form-control only_numeric\"></div>\\n\\\r\n                                                    </div>\\n\\\r\n                                                </div>\\n\\\r\n                                                <div class=\"col-xs-4\">\\n\\\r\n                                                    <div class=\"form-group\">\\n\\\r\n                                                        <label for=\"expense_date\">Credits to return</label>\\n\\\r\n                                                        <div class=\"inner-addon left-addon addon_item_icon\"><input id=\"c_return\" name=\"c_return\" value=\"'+c_return+'\"  type=\"text\" class=\"form-control only_numeric\"></div>\\n\\\r\n                                                    </div>\\n\\\r\n                                                </div>\\n\\\r\n                                                <div class=\"col-xs-4\">\\n\\\r\n                                                    <div class=\"form-group\">\\n\\\r\n                                                        <label for=\"expense_date\">Credits/Days cost</label>\\n\\\r\n                                                        <div class=\"inner-addon left-addon addon_item_icon\"><input style=\"\" id=\"credits_cost\" name=\"credits_cost\" value=\"'+credits_days_cost+'\"  type=\"text\" class=\"form-control only_numeric\"></div>\\n\\\r\n                                                    </div>\\n\\\r\n                                                </div>\\n\\\r\n                                            </div>\\n\\\r\n                                            <div class=\"row\">\\n\\\r\n                                                <div class=\"col-xs-8\">\\n\\\r\n                                                    <div class=\"form-group\">\\n\\\r\n                                                        <label for=\"expense_date\">Description</label>\\n\\\r\n                                                        <input id=\"description\" name=\"description\" value=\"'+description+'\"  type=\"text\" class=\"form-control\">\\n\\\r\n                                                    </div>\\n\\\r\n                                                </div>\\n\\\r\n                                                <div class=\"col-xs-4\">\\n\\\r\n                                                    <div class=\"form-group\">\\n\\\r\n                                                        <label for=\"expense_date\">Composite items</label>\\n\\\r\n                                                        <input  id=\"comp_item_id\" name=\"comp_item_id\" value=\"'+item_related+'\" type=\"hidden\"><input autocomplete=\"off\" id=\"comp_item\" name=\"comp_item\" value=\"\"  type=\"text\" class=\"form-control\">\\n\\\r\n                                                    </div>\\n\\\r\n                                                </div>\\n\\\r\n                                            </div>\\n\\\r\n                                            <div class=\"row\">\\n\\\r\n                                                <div class=\"col-xs-4\">\\n\\\r\n                                                    <div class=\"form-group\">\\n\\\r\n                                                        <label for=\"recharge_line\">Recharge store line</label><br/>\\n\\\r\n                                                        <input style=\"width:25px;height:25px;\" id=\"recharge_line\" name=\"recharge_line\" value=\"\"  type=\"checkbox\" />\\n\\\r\n                                                    </div>\\n\\\r\n                                                </div>\\n\\\r\n                                            </div>\\n\\\r\n                                        </div>\\n\\\r\n                                        <div class=\"modal-footer\">\\n\\\r\n                                            <button type=\"button\" class=\"btn btn-secondary\" data-dismiss=\"modal\">Cancel</button>\\n\\\r\n                                            <button id=\"action_btn\" type=\"submit\" class=\"btn btn-primary\">Update</button>\\n\\\r\n                                        </div>\\n\\\r\n                                        <form/>\\n\\\r\n                                    </div>\\n\\\r\n                                </div>\\n\\\r\n                            </div>';\r\n\r\n                            \$('#edit_package').remove();\r\n                            \$('body').append(content);\r\n\r\n                            \$('.selectpicker').selectpicker();\r\n                            \$(\"#operator_id\").selectpicker('val', operatorType);\r\n                            \$(\"#operator_id\").attr('disabled',true);\r\n                            \$(\"#operator_id\").selectpicker('refresh');\r\n\r\n                            \$(\".only_numeric\").numeric();\r\n                            submitEditPKG();\r\n\r\n\r\n                            \$('#edit_package').on('shown.bs.modal', function (e) {\r\n                                \$(\".sk-circle-layer\").hide();\r\n                                \r\n                                if(store_recharge>0){\r\n                                    \$(\"#recharge_line\").prop( \"checked\", true );\r\n                                }\r\n                                type_ahead(\"?r=items&f=getitems_for_type_head\",\"comp_item\",item_related,item_description);\r\n                            });\r\n                            \$('#edit_package').on('hide.bs.modal', function (e) {\r\n                                \$(\"#edit_package\").remove();\r\n                            });\r\n                            \$('#edit_package').modal('show');\r\n\r\n\r\n                    });\r\n                });\r\n                \r\n            }\r\n            \r\n            function submitEditPKG() {\r\n                \$(\"#edit_package_form\").on('submit', (function (e) {\r\n                    e.preventDefault();\r\n                    if(\$(\"#dollars_nb\").val()==\"\") \$(\"#dollars_nb\").val(0);\r\n                    if(\$(\"#price\").val()==\"\") \$(\"#price\").val(0);\r\n                    //if (!emptyInput(\"expense_description\")) {\r\n                        \$(\".sk-circle-layer\").show();\r\n                        \$.ajax({\r\n                            url: \"?r=mobile_store&f=add_days_package\",\r\n                            type: \"POST\",\r\n                            data: new FormData(this),\r\n                            contentType: false,\r\n                            cache: false,\r\n                            processData: false,\r\n                            dataType: 'json',\r\n                            success: function (data)\r\n                            {\r\n                                \$('#edit_package').modal('hide');\r\n                                var table = \$('#mobilePKG_table').DataTable();\r\n                                table.ajax.url('?r=mobile_store&f=getDaysPackages').load(function () {\r\n                                    table.row('.' + padMobilePKG(data.id), {page: 'current'}).select();\r\n                                    \$(\".sk-circle-layer\").hide();\r\n                                }, false);\r\n                            }\r\n                        });\r\n                    //}\r\n                }));\r\n            }\r\n        </script>\r\n    </head>\r\n    <body>\r\n        \r\n        <!-- Navbar fixed top -->\r\n        ";
include "application/mvc/views/topMenu.php";
echo "        <div class=\"container\" >\r\n            <div class=\"panel panel-default\">\r\n                <div class=\"panel-body\" style=\"margin-top: 50px;\">\r\n                    <div class=\"row\"  >\r\n                        <div class=\"col-lg-12\" >           \r\n                            <table id=\"mobilePKG_table\" class=\"table table-striped table-bordered \" cellspacing=\"0\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th style=\"width: 70px;\">Ref.</th>\r\n                                        <th style=\"width: 70px;\">Operator</th>\r\n                                        <th style=\"width: 70px;\">Credits</th>\r\n                                        <th style=\"width: 70px;\">Days</th>\r\n                                        <th style=\"width: 120px;\">Credits to return</th>\r\n                                        \r\n                                        <th style=\"width: 90px;\">Price</th>\r\n                                        <th style=\"width: 120px;\">Credits/Days cost</th>\r\n                                        <th>Description</th>\r\n                                        <th style=\"width: 200px;\">Composite items</th>\r\n                                        <th style=\"width: 40px;\"></th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tfoot>\r\n                                    <tr>\r\n                                        <th>Ref.</th>\r\n                                        <th>Operator</th>\r\n                                        <th>Credits</th>\r\n                                        <th>Days</th>\r\n                                        <th>Credits to return</th>\r\n                                        <th>Price</th>\r\n                                        <th>Credits/Days cost</th>\r\n                                        <th>Description</th>\r\n                                        <th>Composite items</th>\r\n                                        <th></th>\r\n                                    </tr>\r\n                                </tfoot>\r\n                                <tbody></tbody>\r\n                            </table>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        \r\n        <div class=\"sk-circle-layer\">\r\n            <div class=\"sk-circle\">\r\n                <div class=\"sk-circle1 sk-child\"></div>\r\n                <div class=\"sk-circle2 sk-child\"></div>\r\n                <div class=\"sk-circle3 sk-child\"></div>\r\n                <div class=\"sk-circle4 sk-child\"></div>\r\n                <div class=\"sk-circle5 sk-child\"></div>\r\n                <div class=\"sk-circle6 sk-child\"></div>\r\n                <div class=\"sk-circle7 sk-child\"></div>\r\n                <div class=\"sk-circle8 sk-child\"></div>\r\n                <div class=\"sk-circle9 sk-child\"></div>\r\n                <div class=\"sk-circle10 sk-child\"></div>\r\n                <div class=\"sk-circle11 sk-child\"></div>\r\n                <div class=\"sk-circle12 sk-child\"></div>\r\n            </div>\r\n        </div>\r\n    </body>\r\n</html>\r\n\r\n";

?>