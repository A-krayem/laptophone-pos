<?php
/*
 * @ https://EasyToYou.eu - IonCube v11 Decoder Online
 * @ PHP 5.6
 * @ Decoder version: 1.0.4
 * @ Release: 02/06/2020
 *
 * @ ZendGuard Decoder PHP 5.6
 */

// Decoded file for php version 53.
echo "<!DOCTYPE html>\n<!--\nTo change this license header, choose License Headers in Project Properties.\nTo change this template file, choose Tools | Templates\nand open the template in the editor.\n-->\n<html>\n    <head>\n        <title>";
echo $_SESSION["page_title"];
echo " Must Pay</title>\n        <meta charset=\"UTF-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <link rel=\"icon\" type=\"image/png\" href=\"resources/favicon.png\">\n\n        <script src=\"libraries/jquery-3.1.1.min.js\" type=\"text/javascript\"></script>\n\n        <script src=\"libraries/bootstrap-3.3.7-dist/js/bootstrap.min.js\" type=\"text/javascript\"></script>\n        <link href=\"libraries/bootstrap-3.3.7-dist/css/bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n        \n        <link href=\"application/mvc/views/custom_libraries/css/global.css?rnd=";
echo self::generateRandomStringComplex();
echo "\" rel=\"stylesheet\" type=\"text/css\"/>\n        <script src=\"application/mvc/views/custom_libraries/javascripts/global.js?rnd=";
echo self::generateRandomStringComplex();
echo "\" type=\"text/javascript\"></script>\n        \n        <script src=\"application/mvc/views/custom_libraries/javascripts/global_functions.js?rnd=";
echo self::generateRandomStringComplex();
echo "\" type=\"text/javascript\"></script>\n\n        <script src=\"application/mvc/views/custom_libraries/javascripts/manual_invoice.js?rnd=";
echo self::generateRandomStringComplex();
echo "\" type=\"text/javascript\"></script>\n        \n        <script src=\"application/mvc/views/custom_libraries/javascripts/customers.js?rnd=";
echo self::generateRandomStringComplex();
echo "\" type=\"text/javascript\"></script>\n        <script src=\"application/mvc/views/pos/upsilon-pos_8/gallery.js?rnd=";
echo self::generateRandomStringComplex();
echo "\" type=\"text/javascript\"></script>\n        <script src=\"libraries/bootstrap-plugins/DataTables-1.10.13/media/js/jquery.dataTables.min.js\" type=\"text/javascript\"></script>\n        <script src=\"libraries/bootstrap-plugins/DataTables-1.10.13/media/js/dataTables.bootstrap.min.js\" type=\"text/javascript\"></script>\n        <link href=\"libraries/bootstrap-plugins/DataTables-1.10.13/media/css/dataTables.bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n\n        <link href=\"libraries/bootstrap-plugins/export/buttons.dataTables.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n        <script src=\"libraries/bootstrap-plugins/export/dataTables.buttons.min.js\" type=\"text/javascript\"></script>\n        <script src=\"libraries/bootstrap-plugins/export/jszip.min.js\" type=\"text/javascript\"></script>\n        <script src=\"libraries/bootstrap-plugins/export/vfs_fonts.js\" type=\"text/javascript\"></script>\n        <script src=\"libraries/bootstrap-plugins/export/buttons.html5.min.js\" type=\"text/javascript\"></script>\n        <script src=\"libraries/jquery.mask.min.js\" type=\"text/javascript\"></script>\n        <script src=\"libraries/bootstrap-plugins/Buttons-1.2.4/js/buttons.bootstrap.min.js\" type=\"text/javascript\"></script>\n        <link href=\"libraries/bootstrap-plugins/Buttons-1.2.4/css/buttons.bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n        \n        \n        <script src=\"libraries/bootstrap-plugins/DataTables-1.10.13/extensions/Select/js/dataTables.select.min.js\" type=\"text/javascript\"></script>\n\n        <script src=\"libraries/lightbox2-master/dist/js/lightbox.min.js\" type=\"text/javascript\"></script>\n        <link href=\"libraries/lightbox2-master/dist/css/lightbox.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n        \n        \n        <link href=\"libraries/bootstrap-plugins/datepicker-master/dist/css/bootstrap-datepicker.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n        <script src=\"libraries/bootstrap-plugins/datepicker-master/dist/js/bootstrap-datepicker.min.js\" type=\"text/javascript\"></script>\n    \n        <script src=\"libraries/bootstrap-plugins/bootstrap-select-master/bootstrap-select-master/dist/js/bootstrap-select.min.js\" type=\"text/javascript\"></script>\n        <link href=\"libraries/bootstrap-plugins/bootstrap-select-master/bootstrap-select-master/dist/css/bootstrap-select.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n        \n        <link href=\"application/mvc/views/custom_libraries/svgs/font/style.css?rnd=";
echo self::generateRandomStringComplex();
echo "\" rel=\"stylesheet\" type=\"text/css\"/>\n\n        <link href=\"libraries/bootstrap-plugins/bootstrap-sweetalert-master/dist/sweetalert.css\" rel=\"stylesheet\" type=\"text/css\"/>\n        <script src=\"libraries/bootstrap-plugins/bootstrap-sweetalert-master/dist/sweetalert.min.js\" type=\"text/javascript\"></script>\n        \n        <script src=\"libraries/numeric.js\" type=\"text/javascript\"></script>\n        \n                <script src=\"libraries/bootstrap-plugins/bootstrap3-typeahead/bootstrap3-typeahead.min.js\" type=\"text/javascript\"></script>\n        <script src=\"libraries/cleave.js-master/dist/cleave.min.js\" type=\"text/javascript\"></script>\n        \n        <link href=\"application/mvc/views/custom_libraries/css/select2.min.css?v=2\" rel=\"stylesheet\" type=\"text/css\" />\n    <script src=\"application/mvc/views/custom_libraries/javascripts/select2.full.min.js\"\n        type=\"text/javascript\"></script>\n        \n        <script src=\"libraries/jquery-toast-plugin-master/dist/jquery.toast.min.js\" type=\"text/javascript\"></script>\n         <link href=\"libraries/jquery-toast-plugin-master/dist/jquery.toast.min.css\" rel=\"stylesheet\" type=\"text/css\"/>\n\n         <script src=\"application/mvc/views/custom_libraries/javascripts/jquery-confirm.min.js\" type=\"text/javascript\"></script>\n        <link href=\"application/mvc/views/custom_libraries/css/jquery-confirm.min.css\" rel=\"stylesheet\" type=\"text/css\" /> \n        \n        <style type=\"text/css\">\n            \n         \n\n            .container,.panel {\n                height:100%;\n                width: 100%;\n                padding: 0px !important;\n                margin: 0px !important;\n            }\n            \n\n            \n            .table>tfoot>tr>th{\n                font-size: 12px !important;\n                background-color: #F3F3F3;\n                padding: 2px;\n                border: none !important;\n            }\n            \n            .dataTables_filter { display: none; }\n            \n       \n            \n            .selected{\n                background-color: #337ab7 !important;\n                color: #ffffff !important;\n            }\n            \n            .search_filter{\n                width: 100% !important;\n                color: #000;\n            }\n            \n            \n            ::-webkit-input-placeholder { /* Chrome/Opera/Safari */\n                color: #337ab7;\n                opacity: 0.9;\n            }\n            ::-moz-placeholder { /* Firefox 19+ */\n                color: #337ab7;\n                opacity: 0.9;\n            }\n            :-ms-input-placeholder { /* IE 10+ */\n                color: #337ab7;\n                opacity: 0.9;\n            }\n            :-moz-placeholder { /* Firefox 18- */\n                color: #337ab7;\n                opacity: 0.9;\n            }\n            \n            /* enable absolute positioning */\n            .inner-addon { \n                position: relative; \n            }\n\n            /* style icon */\n            .inner-addon .glyphicon {\n              position: absolute;\n              padding: 6px;\n              pointer-events: none;\n            }\n\n            /* align icon */\n            .left-addon .glyphicon  { left:  0px;}\n            .right-addon .glyphicon { right: 0px;}\n\n            /* add padding  */\n            .left-addon input  { padding-left:  5px; }\n            .right-addon input { padding-right: 30px; }\n            \n            .phone-input{\n                    margin-bottom:8px;\n            }\n            \n            .confirmation {\n                width: 160px;\n            }\n            \n            .list-group-item{\n                border: none !important;\n            }\n            \n            div.toolbar h3{\n                margin-top: 0px !important;\n            }\n            \n            .dataTable>tfoot>tr>th{\n                /* width: 50px !important; */\n            }\n            \n            .item_icon{\n                font-size: 18px;\n            }\n            .addon_item_icon input{\n                padding-left: 30px !important;\n            }\n            \n            .opened{\n                color:red;\n                font-weight: bold\n            }\n            \n            .btn-xs{\n                font-size: 14px !important;\n                padding-top: 0px !important;\n                width: 100%;\n            }\n\n            \n            .payInput{\n                width: 70px;\n                height: 28px;\n                text-align: center;\n            }\n            \n            .redClass{\n                background-color: #F04F3C !important;\n                color: #fff  !important;\n            }\n            \n            .btn-xss{\n                width: 100% !important;\n            }\n            \n            .btn-group-xs>.btn, .btn-xs{\n                line-height: 1.3 !important;\n             }\n             \n             .panel > .panel-heading{\n                padding: 1px 6px  !important;\n            }\n        </style>\n        <script type=\"text/javascript\">\n            var cutomer_invoice_table = null;\n            var current_customer_id = 0;\n            var current_store_id = null;\n            \n            var currency = \"";
echo $data["currency"];
echo "\";\n            \n            var all_currencies = [];\n            \n            var stores = [];\n            \n            \$(document).ready(function () {\n                \$(\".sk-circle\").center();\n                \$(\".sk-circle-layer\").show();\n                \n                \n                \$.getJSON(\"?r=settings_info&f=get_needed_data\", function (data) {\n                    all_currencies = [];\n                    \$.each(data.currencies, function (key, val) {\n                        all_currencies.push({id:val.id,name:val.name,symbole:val.symbole,system_default:val.system_default,rate_to_system_default:val.rate_to_system_default});\n                    }); \n                }).done(function () {\n                    getInvoicesOfCustomer(0); \n                });\n                \n                \n                \n            });\n            \n            function updateInvoiceAction(){\n                var table = \$('#cutomer_invoice_table').DataTable();\n                var p = table.rows({ page: 'current' }).nodes();\n                for (var k = 0; k < p.length; k++){\n                    var index = table.row(p[k]).index();\n                    table.cell(index, 7).data('<i title=\"Edit\" class=\"glyphicon glyphicon-edit\" onclick=\"edit_manual_invoice(\\''+parseInt(table.cell(index, 0).data().split(\"-\")[1])+'\\')\" style=\"font-size:18px;cursor:pointer\" ></i>&nbsp;&nbsp;<i title=\"Set Duedate\" class=\"glyphicon glyphicon-time\" onclick=\"setDueDate(\\''+parseInt(table.cell(index, 0).data().split(\"-\")[1])+'\\')\" style=\"font-size:18px;cursor:pointer\" ></i>&nbsp;&nbsp;<i class=\"glyphicon icon-payment\" title=\"Add Payment\" onclick=\"add_payment(\\''+parseInt(table.cell(index, 1).data().split(\"-\")[1])+'\\')\" style=\"font-size:20px; cursor:pointer\"></i>');\n                    //table.cell(index, 8).data('<button onclick=\"print_sheet(\\''+parseInt(table.cell(index, 0).data().split(\"-\")[1])+'\\')\" type=\"button\" class=\"btn btn-xs btn-info\">Print</button>');\n                    // <i title=\"print\" class=\"glyphicon glyphicon-print\" onclick=\"print_sheet(\\''+parseInt(table.cell(index, 0).data().split(\"-\")[1])+'\\')\" style=\"font-size:18px;cursor:pointer\" ></i>&nbsp;&nbsp;\n                    if(table.cell(index, 6).data() == \"1\"){\n                        \$( table.cell(index,5).nodes() ).addClass( 'redClass' );\n                    }\n                }\n            }\n            \n            function updateInvoicePayment(){\n                var table = \$('#cutomer_invoice_table').DataTable();\n                var p = table.rows({ page: 'current' }).nodes();\n                for (var k = 0; k < p.length; k++){\n                    var index = table.row(p[k]).index();\n                    table.cell(index, 7).data('<button id=\"pop_'+parseInt(table.cell(index, 0).data().split('-')[1])+'\" type=\"button\" class=\"btn btn-xs btn-info popoverP\" data-container=\"body\" data-toggle=\"popover\" data-placement=\"top\">Add payment</button>');\n                    \$(\"#pop_\"+parseInt(table.cell(index, 0).data().split('-')[1])).popover({\n                        trigger: 'click',\n                        content: '<b>Value of Payment</b><br/><input type=\"text\" class=\"payInput\" id=\"inp_'+parseInt(table.cell(index, 0).data().split('-')[1])+'\">&nbsp;<button  type=\"button\" class=\"btn btn-info btn-sm\" onclick=\"addPaymentToInvoice('+parseInt(table.cell(index, 0).data().split('-')[1])+')\">Add</button>',\n                        html: true\n                    });\n                }\n\n                \$('body').on('click', function (e) {\n                    \$('[data-toggle=\"popover\"]').each(function () {\n                        if (!\$(this).is(e.target) && \$(this).has(e.target).length === 0 && \$('.popover').has(e.target).length === 0) {\n                            \$(this).popover('hide');\n                        }\n                    });\n                });\n            }\n            \n            function addPaymentToInvoice(id){\n                \$(\".sk-circle-layer\").show();\n                \$.getJSON(\"?r=invoice&f=addPaymentForCustomerAdminSide&p0=\" + id + \"&p1=\"+\$(\"#inp_\"+id).val(), function (data) {\n                    \n                }).done(function () {\n                    \$('[data-toggle=\"popover\"]').popover('hide');\n                    //\$('[data-toggle=\"popover\"]').remove();\n                    var table = \$('#cutomer_invoice_table').DataTable();\n                    table.ajax.url(\"?r=invoice&f=getInvoicesMustPay&p0=\"+current_store_id).load(function () {\n                        \$(\".sk-circle-layer\").hide();\n                    }, false);\n                });\n            }\n      \n            function closeInvoice(id){\n                \$(\".sk-circle-layer\").show();\n                \$.getJSON(\"?r=invoice&f=close_invoice&p0=\" + id, function (data) {\n                    \n                }).done(function () {\n                    var table = \$('#cutomer_invoice_table').DataTable();\n                    table.ajax.url(\"?r=invoice&f=getInvoicesMustPay&p0=\"+current_store_id).load(function () {\n                            \$(\".sk-circle-layer\").hide();\n                    }, false);\n                });\n            }\n         \n            function store_changed(){\n                \$(\".sk-circle-layer\").show();\n                current_store_id = \$(\"#store_list\").val();\n                var table = \$('#cutomer_invoice_table').DataTable();\n                table.ajax.url(\"?r=invoice&f=getInvoicesMustPay&p0=\"+current_store_id).load(function () {\n                    \$(\".sk-circle-layer\").hide();\n                }, false);\n            }\n   \n            function getInvoicesOfCustomer(){\n                var search_fields = [0,1,2,3,4,5,6];\n                var index = 0;\n                \$('#cutomer_invoice_table tfoot th').each( function () {\n                    if(jQuery.inArray(index, search_fields) !== -1){\n                        var title = \$(this).text();\n                        \$(this).html( '<div class=\"inner-addon left-addon\"><input style=\"width: 100% !important;\"  class=\"form-control input_sm_search\" type=\"text\" placeholder=\" '+title+'\" /></div>' ); \n                    }\n                    index++;\n                });\n                \n                cutomer_invoice_table = \$('#cutomer_invoice_table').dataTable({\n                    ajax: {\n                        url: \"?r=invoice&f=getInvoicesMustPay&p0=\"+current_store_id,\n                        type: 'POST',\n                        error:function(xhr,status,error) {\n                        },\n                        dataSrc: function(json) {\n                            if(\$(\"#total_amount\").length>0){\n                                \$(\"#total_amount\").html(json.total_amount+\" <small class='currency'>\"+currency+\"</small>\");\n                                _total_amounts=0;\n                            }else{\n                                _total_amounts=json.total_amount;\n                            }\n                            \n                            \n                            return json.data;\n                        }\n                    },\n                    orderCellsTop: true,\n                    ordering: false,\n                    aoColumnDefs: [\n                        { \"targets\": [0], \"searchable\": true, \"orderable\": true, \"visible\": true },\n                        { \"targets\": [1], \"searchable\": true, \"orderable\": false, \"visible\": true },\n                        { \"targets\": [2], \"searchable\": true, \"orderable\": false, \"visible\": true },\n                        { \"targets\": [3], \"searchable\": true, \"orderable\": false, \"visible\": true },\n                        { \"targets\": [4], \"searchable\": true, \"orderable\": false, \"visible\": true },\n                        { \"targets\": [5], \"searchable\": true, \"orderable\": false, \"visible\": true },\n                        { \"targets\": [6], \"searchable\": true, \"orderable\": false, \"visible\": false },\n                        { \"targets\": [7], \"searchable\": true, \"orderable\": false, \"visible\": true },\n                        { \"targets\": [8], \"searchable\": true, \"orderable\": false, \"visible\": false }\n                    ],\n                    scrollY: '47vh',\n                    scrollCollapse: true,\n                    \"paging\": true,           // Enable pagination\n                    \"pageLength\": 50, \n                    \"lengthChange\": true,\n                    \"lengthMenu\": [50, 100, 250, 500], // Page length options \n                    //dom: '<\"toolbar\">frtlip',\n                    dom: '<\"row\"<\"col-sm-12 col-md-12\"<\"toolbar\">>><\"row\"<\"col-sm-12 col-md-6\"f>>' +\n                    '<\"row\"<\"col-sm-12\"tr>>' +\n                    '<\"row\"<\"col-sm-4 col-md-4\"l><\"col-sm-4 col-md-4\"i><\"col-sm-4 col-md-4\"p>>',\n                    initComplete: function( settings ) {\n                        \$(\"#cutomer_invoice_table\").show();\n                        \n                        var table = \$('#cutomer_invoice_table').DataTable();\n                        table.row(':eq(0)', { page: 'current' }).select();\n                        \n                        var stores_option = \"\";\n                        for(var i=0;i<stores.length;i++){\n                            stores_option+='<option value='+stores[i].id+' title=\"'+stores[i].name+'\">'+stores[i].name+'</option>';\n                        }\n                         \n                        \$(\"div.toolbar\").html('<h3><i class=\"icon-invoice\"></i>&nbsp;Invoices Due Date</h3>\\n\\\n                            <div class=\"btn-group\" role=\"group\" aria-label=\"\" style=\"display:none\">\\n\\\n                                <select id=\"store_list\" class=\"selectpicker\" onchange=\"store_changed()\" >\\n\\\n                                    '+stores_option+'\\n\\\n                                </select>\\n\\\n                            </div>\\n\\\n                            <div class=\"row\" style=\"margin-top:5px;\">\\n\\\n                                <div class=\"col-md-2 col-sm-3\" style=\"padding-right:2px;\">\\n\\\n                                    <div class=\"panel panel-info\">\\n\\\n                                        <div class=\"panel-heading\">\\n\\\n                                            <div class=\"row\">\\n\\\n                                                <div class=\"col-xs-12 col-sm-12 text-left\">\\n\\\n                                                    <b class=\"announcement-heading dollar\" id=\"total_amount\">0 <small class=\"currency\">'+currency+'</small></b>\\n\\\n                                                    <p class=\"announcement-text\" style=\"margin-bottom:0px;\">Total Amount</p>\\n\\\n                                                </div>\\n\\\n                                            </div>\\n\\\n                                        </div>\\n\\\n                                    </div>\\n\\\n                                </div>\\n\\\n                                <div class=\"col-lg-9 col-md-9 col-sm-2 pl2\" >\\n\\\n                                    &nbsp;\\n\\\n                                </div>\\n\\\n                                <div class=\"col-lg-1 col-md-1 col-sm-2 pl2\" >\\n\\\n                                    <div class=\"btn-group\" role=\"group\" aria-label=\"\" style=\"width:100%\">\\n\\\n                                        <div class=\"btn-group\" id=\"buttons\" style=\"float:right\"></div>\\n\\\n                                    </div>\\n\\\n                                </div>\\n\\\n                            </div>\\n\\\n                        ');\n                        \$('.selectpicker').selectpicker();\n                        \n                        \n                        var buttons = new \$.fn.dataTable.Buttons(table, {\n                            buttons: [\n                              {\n                                    extend: 'excel',\n                                    text: 'Export excel',\n                                    className: 'exportExcel',\n                                    filename: 'Due Date Invoices',\n                                    customize: _customizeExcelOptions,\n                                    exportOptions: {\n                                        modifier: {\n                                            page: 'all'\n                                        },\n                                        columns: [0,1,2,3,4,5],\n                                        format: {\n                                            body: function ( data, row, column, node ) {\n                                                // Strip \$ from salary column to make it numeric\n                                       \n                                                return  column == 4 ? (table.cell(row,4).data()).replace(/<\\/?b[^>]*>/g, '') : data;\n                                            }\n                                        }\n                                    }\n                              }\n                            ]\n                            \n                       }).container().appendTo(\$('#buttons'));\n                       \n                       function _customizeExcelOptions(xlsx) {\n                           var sheet = xlsx.xl.worksheets['sheet1.xml'];\n                            var clR = \$('row', sheet);\n                            //var r1 = Addrow(clR.length+2, [{key:'A',value: \"Total Credit Notes\"},{key:'B',value: total}]);\n                            //sheet.childNodes[0].childNodes[1].innerHTML = sheet.childNodes[0].childNodes[1].innerHTML + r1;\n                            \n                            //\$('row c[r^=\"A'+(clR.length+2)+'\"]', sheet).attr('s', '48');\n                            \n                            function Addrow(index, data) {\n                                var msg = '<row r=\"' + index + '\">'\n                                for (var i = 0; i < data.length; i++) {\n                                    var key = data[i].key;\n                                    var value = data[i].value;\n                                    msg += '<c t=\"inlineStr\" r=\"' + key + index + '\">';\n                                    msg += '<is>';\n                                    msg += '<t>' + value + '</t>';\n                                    msg += '</is>';\n                                    msg += '</c>';\n                                }\n                                msg += '</row>';\n                                return msg;\n                            }\n                       }\n                        \n                        \$(\"#total_amount\").html(_total_amounts+\" <small class='currency'>\"+currency+\"</small>\");\n\n                        \$(\".sk-circle-layer\").hide();\n                    },\n                    fnDrawCallback: updateInvoiceAction,\n                    fnRowCallback: function (nRow, aData, iDisplayIndex, iDisplayIndexFull) {\n                        \$(nRow).addClass(aData[0]);\n                    },\n                });\n                \n                \$('#cutomer_invoice_table').on( 'page.dt', function () {\n                     \n                });\n                \n                \$('#cutomer_invoice_table').DataTable().columns().every( function () {\n                    var that = this;\n                    \$( 'input', this.footer() ).on( 'keyup change', function () {\n                        if ( that.search() !== this.value ) {\n                            that.search( this.value ).draw();\n                        }\n                    } );\n                } );\n                \n                \$('#cutomer_invoice_table').DataTable().on('mousedown',\"tr\", function ( e, dt, type, indexes ) { \n                    \$('.selected').removeClass(\"selected\");\n                    \$(this).addClass('selected');\n                });\n                \n            }\n            \n            function add_payment(customer_id){\n                if(parseFloat(customer_id)>0){\n                    \$(\".sk-circle\").center();\n                    \$(\".sk-circle-layer\").show();\n                    addCustomerPaymentDetails(customer_id,0,[],\"invoicesmustpay\");\n                }else{\n                    swal(\"Customer not found\");\n                } \n            }\n            \n            function setDueDate(id){\n                var content =\n                    '<div class=\"modal\" data-backdrop=\"static\" id=\"setDueDateModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"payment_info__\" aria-hidden=\"true\">\\n\\\n                    <div class=\"modal-dialog\" role=\"document\">\\n\\\n                        <div class=\"modal-content\">\\n\\\n                            <div class=\"modal-header\"> \\n\\\n                                <h3 class=\"modal-title\"><i class=\"glyphicon glyphicon-time\"></i>&nbsp;Due Date<i style=\"float:right;font-size:30px; cursor:pointer\" class=\"glyphicon glyphicon-remove\" onclick=\"closeModal(\\'setDueDateModal\\')\"></i></h3>\\n\\\n                            </div>\\n\\\n                            <div class=\"modal-body\">\\n\\\n                                <div class=\"row\">\\n\\\n                                    <div class=\"col-lg-6 col-md-6 col-sm-6 col-xs-12\">\\n\\\n                                        <input id=\"due_date\" value=\"\" name=\"due_date\" type=\"text\" class=\"form-control\"/>\\n\\\n                                    </div>\\n\\\n                                    <div class=\"col-lg-2 col-md-2 col-sm-2 col-xs-12\">\\n\\\n                                        <button onclick=\"saveDueDate('+id+')\" type=\"button\" class=\"btn btn-default\" style=\"width:100%\">Save</button>\\n\\\n                                    </div>\\n\\\n                                    <div class=\"col-lg-2 col-md-2 col-sm-2 col-xs-12\">\\n\\\n                                        <button onclick=\"dismiss('+id+')\" type=\"button\" class=\"btn btn-default\" style=\"width:100%\">Dismiss</button>\\n\\\n                                    </div>\\n\\\n                                </div>\\n\\\n                            </div>\\n\\\n                            <div class=\"modal-footer\">\\n\\\n                            </div>\\n\\\n                        </div>\\n\\\n                    </div>\\n\\\n                </div>';\n                \$(\"#setDueDateModal\").remove();\n                \$(\"body\").append(content);\n                \n                \$('#setDueDateModal').on('shown.bs.modal', function (e) {\n                    \$('#due_date').datepicker({autoclose:true,format: 'yyyy-mm-dd'});\n                    \$('#due_date').datepicker( \"setDate\", new Date() );\n                    \n                    \$('#due_date').datepicker().on('changeDate', function(ev) {\n\n                    }).on('hide show', function(event) {\n                        event.preventDefault();\n                        event.stopPropagation();\n                    });\n                    \n                });\n                \$('#setDueDateModal').on('hidden.bs.modal', function (e) {\n                    \$('#setDueDateModal').remove();\n                });\n                \$('#setDueDateModal').modal('show');\n            }\n            \n            function saveDueDate(id){\n                \$(\".sk-circle-layer\").show();\n                        \n                \$.getJSON(\"?r=invoice&f=set_due_date&p0=\"+id+\"&p1=\"+\$('#due_date').val(), function (data) {\n                    \n                }).done(function () {\n                    \$('#setDueDateModal').modal('toggle');\n                    var table = \$('#cutomer_invoice_table').DataTable();\n                    table.ajax.url(\"?r=invoice&f=getInvoicesMustPay&p0=\"+current_store_id).load(function () {\n                       table.row('.' + pad_invoice(id), {page: 'current'}).select();\n                       \$(\".tab_toolbar button.blueB\").addClass(\"disabled\");\n                        \$(\".sk-circle-layer\").hide();\n                    }, false);\n                });\n            }\n            \n            function dismiss(id){\n                \$(\".sk-circle-layer\").show();\n                        \n                \$.getJSON(\"?r=invoice&f=dismiss_due_date&p0=\"+id, function (data) {\n                    \n                }).done(function () {\n                    \$('#setDueDateModal').modal('toggle');\n                    var table = \$('#cutomer_invoice_table').DataTable();\n                    table.ajax.url(\"?r=invoice&f=getInvoicesMustPay&p0=\"+current_store_id).load(function () {\n                       \n                        \$(\".sk-circle-layer\").hide();\n                    }, false);\n                });\n            }\n            \n \n\n        </script>\n    </head>\n    <body>\n        ";
include "application/mvc/views/topMenu.php";
echo "\n        <div class=\"container\" >\n            <div class=\"panel panel-default\">\n                <div class=\"panel-body\" style=\"margin-top: 50px;\">\n                    <div class=\"row\">\n                        <div class=\"col-lg-12 col-md-12\" >           \n                            <table id=\"cutomer_invoice_table\" class=\"table table-striped table-bordered\" cellspacing=\"0\" >\n                                <thead>\n                                    <tr> \n                                        <th style=\"width: 80px !important;\">Invoice ID</th>\n                                        <th style=\"width: 80px !important;\">Customer ID</th>\n                                        <th>Customer Name</th>\n\n                                        <th style=\"width: 200px !important;\">Invoice date</th>\n                                        <th style=\"width: 100px !important;\">Amount</th>\n                                        <th style=\"width: 180px !important;\">Due date</th>\n                                        <th style=\"width: 80px !important;\"></th>\n                                        <th style=\"width: 95px !important;\"></th>\n                                        <th style=\"width: 50px !important;\"></th>\n                                        <!--\n                                        <th style=\"width: 100px !important;\">Action</th>\n                                        <th style=\"width: 120px !important;\">Total payments</th>\n                                        <th style=\"width: 110px !important;\">Add payments</th> -->\n                                    </tr>\n                                </thead>\n                                <tfoot>\n                                    <tr>\n                                        <th>Invoice ID</th>\n                                        <th>Customer ID</th>\n                                        <th>Customer Name</th>\n\n                                        <th>Invoice date</th>\n                                        <th>Amount</th>\n                                        <th>Due date</th>\n                                        <th></th>\n                                        <th></th>\n                                        <th></th>\n                                        <!--\n                                        <th></th>\n                                        <th></th>\n                                        <th></th>\n                                        -->\n                                    </tr>\n                                </tfoot>\n                                <tbody></tbody>\n                            </table>\n                        </div>\n                    </div>\n                </div>\n            </div></div>\n        \n        <div class=\"sk-circle-layer\">\n            <div class=\"sk-circle\">\n                <div class=\"sk-circle1 sk-child\"></div>\n                <div class=\"sk-circle2 sk-child\"></div>\n                <div class=\"sk-circle3 sk-child\"></div>\n                <div class=\"sk-circle4 sk-child\"></div>\n                <div class=\"sk-circle5 sk-child\"></div>\n                <div class=\"sk-circle6 sk-child\"></div>\n                <div class=\"sk-circle7 sk-child\"></div>\n                <div class=\"sk-circle8 sk-child\"></div>\n                <div class=\"sk-circle9 sk-child\"></div>\n                <div class=\"sk-circle10 sk-child\"></div>\n                <div class=\"sk-circle11 sk-child\"></div>\n                <div class=\"sk-circle12 sk-child\"></div>\n            </div>\n        </div>\n    </body>\n</html>\n\n";

?>