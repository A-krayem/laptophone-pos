<?php
/*
 * @ https://EasyToYou.eu - IonCube v11 Decoder Online
 * @ PHP 5.6
 * @ Decoder version: 1.0.4
 * @ Release: 02/06/2020
 *
 * @ ZendGuard Decoder PHP 5.6
 */

// Decoded file for php version 53.
echo "<!DOCTYPE html>\n<!--\nTo change this license header, choose License Headers in Project Properties.\nTo change this template file, choose Tools | Templates\nand open the template in the editor.\n-->\n<html>\n\n<head>\n    <title>";
echo $_SESSION["page_title"];
echo " All Items Ajax</title>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n        <link rel=\"icon\" type=\"image/png\" href=\"resources/favicon.png\">\n\n    <script src=\"libraries/jquery-3.1.1.min.js\" type=\"text/javascript\"></script>\n\n    <script src=\"libraries/bootstrap-3.3.7-dist/js/bootstrap.min.js\" type=\"text/javascript\"></script>\n    <link href=\"libraries/bootstrap-3.3.7-dist/css/bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <script src=\"libraries/bootstrap-plugins/DataTables-1.10.13/media/js/jquery.dataTables.min.js\" type=\"text/javascript\"></script>\n    <script src=\"libraries/bootstrap-plugins/DataTables-1.10.13/media/js/dataTables.bootstrap.min.js\" type=\"text/javascript\"></script>\n    <link href=\"libraries/bootstrap-plugins/DataTables-1.10.13/media/css/dataTables.bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n\n    <script src=\"libraries/bootstrap-plugins/DataTables-1.10.13/extensions/Select/js/dataTables.select.min.js\" type=\"text/javascript\"></script>\n\n    <link href=\"libraries/bootstrap-plugins/export/buttons.dataTables.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <script src=\"libraries/bootstrap-plugins/export/dataTables.buttons.min.js\" type=\"text/javascript\"></script>\n    <script src=\"libraries/bootstrap-plugins/export/jszip.min.js\" type=\"text/javascript\"></script>\n    <script src=\"libraries/bootstrap-plugins/export/vfs_fonts.js\" type=\"text/javascript\"></script>\n    <script src=\"libraries/bootstrap-plugins/export/buttons.html5.min.js\" type=\"text/javascript\"></script>\n\n\n\n    <script src=\"libraries/bootstrap-plugins/Buttons-1.2.4/js/buttons.bootstrap.min.js\" type=\"text/javascript\"></script>\n    <link href=\"libraries/bootstrap-plugins/Buttons-1.2.4/css/buttons.bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <script src=\"libraries/bootstrap-plugins/bootstrap3-typeahead/bootstrap3-typeahead.min.js\" type=\"text/javascript\"></script>\n    <script src=\"application/mvc/views/custom_libraries/javascripts/global_functions.js?rnd=";
echo self::generateRandomStringComplex();
echo "\" type=\"text/javascript\"></script>\n    <script src=\"application/mvc/views/custom_libraries/javascripts/global.js?rnd=";
echo self::generateRandomStringComplex();
echo "\" type=\"text/javascript\"></script>\n    <script src=\"application/mvc/views/custom_libraries/javascripts/images.js?rnd=";
echo self::generateRandomStringComplex();
echo "\" type=\"text/javascript\"></script>\n    <script src=\"libraries/bootstrap-plugins/bootstrap-select-master/bootstrap-select-master/dist/js/bootstrap-select.min.js\" type=\"text/javascript\"></script>\n    <link href=\"libraries/bootstrap-plugins/bootstrap-select-master/bootstrap-select-master/dist/css/bootstrap-select.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <link href=\"application/mvc/views/custom_libraries/css/global.css?rnd=";
echo self::generateRandomStringComplex();
echo "\" rel=\"stylesheet\" type=\"text/css\" />\n\n    <script src=\"libraries/bootstrap-plugins/libs/bootstrap-confirmation.min.js\" type=\"text/javascript\"></script>\n\n    <link href=\"libraries/bootstrap-plugins/datepicker-master/dist/css/bootstrap-datepicker.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <script src=\"libraries/bootstrap-plugins/datepicker-master/dist/js/bootstrap-datepicker.min.js\" type=\"text/javascript\"></script>\n\n    <script src=\"libraries/bootstrap-plugins/bootstrap-sweetalert-master/dist/sweetalert.min.js\" type=\"text/javascript\"></script>\n    <link href=\"libraries/bootstrap-plugins/bootstrap-sweetalert-master/dist/sweetalert.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <script src=\"libraries/numeric.js\" type=\"text/javascript\"></script>\n\n    <script src=\"libraries/jquery.mask.min.js\" type=\"text/javascript\"></script>\n\n    <script src=\"libraries/lightbox2-master/dist/js/lightbox.min.js\" type=\"text/javascript\"></script>\n    <link href=\"libraries/lightbox2-master/dist/css/lightbox.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n\n    <link href=\"application/mvc/views/custom_libraries/svgs/font/style.css?rnd=";
echo self::generateRandomStringComplex();
echo "\" rel=\"stylesheet\" type=\"text/css\" />\n    <script src=\"application/mvc/views/custom_libraries/javascripts/store_items.js?rnd=";
echo self::generateRandomStringComplex();
echo "\" type=\"text/javascript\"></script>\n    <script src=\"application/mvc/views/custom_libraries/javascripts/autocomplete.js?rnd=";
echo self::generateRandomStringComplex();
echo "\" type=\"text/javascript\"></script>\n    <script src=\"application/mvc/views/custom_libraries/javascripts/shortcuts.js?rnd=";
echo self::generateRandomStringComplex();
echo "\" type=\"text/javascript\"></script>\n    <link href=\"libraries/bootstrap-plugins/bootstrap-colorpicker-master/dist/css/bootstrap-colorpicker.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n    <script src=\"libraries/bootstrap-plugins/bootstrap-colorpicker-master/dist/js/bootstrap-colorpicker.min.js\" type=\"text/javascript\"></script>\n\n    <script src=\"libraries/bootstrap-plugins/DataTables-1.10.13/extensions/KeyTable/js/dataTables.keyTable.min.js\" type=\"text/javascript\"></script>\n\n\n    <script src=\"libraries/bootstrap-plugins/DataTables-1.10.13/extensions/Responsive/js/dataTables.responsive.min.js\" type=\"text/javascript\"></script>\n    <link href=\"libraries/bootstrap-plugins/DataTables-1.10.13/extensions/Responsive/css/responsive.bootstrap.min.css\" rel=\"stylesheet\" type=\"text/css\" />\n\n    <script src=\"libraries/cleave.js-master/dist/cleave.min.js\" type=\"text/javascript\"></script>\n\n\n    <style type=\"text/css\">\n        .container,\n        .panel {\n            height: 100%;\n            width: 100%;\n            padding: 0px !important;\n            margin: 0px !important;\n        }\n\n        .btn-full-wd {\n            width: 100% !important;\n            padding-top: 0px !important;\n            padding-bottom: 0px !important;\n        }\n\n\n\n        .table>tfoot>tr>th {\n            font-size: 12px !important;\n            background-color: #F3F3F3;\n            padding: 2px;\n            border: none !important;\n        }\n\n        .dataTables_filter {\n            /* display: none; */\n        }\n\n        .input-sm {\n            height: 25px !important;\n        }\n\n        .selected {\n            background-color: #337ab7 !important;\n            color: #ffffff !important;\n        }\n\n        .search_filter {\n            width: 100% !important;\n            color: #000;\n        }\n\n\n        ::-webkit-input-placeholder {\n            /* Chrome/Opera/Safari */\n            color: #337ab7;\n            opacity: 0.9;\n        }\n\n        ::-moz-placeholder {\n            /* Firefox 19+ */\n            color: #337ab7;\n            opacity: 0.9;\n        }\n\n        :-ms-input-placeholder {\n            /* IE 10+ */\n            color: #337ab7;\n            opacity: 0.9;\n        }\n\n        :-moz-placeholder {\n            /* Firefox 18- */\n            color: #337ab7;\n            opacity: 0.9;\n        }\n\n        /* enable absolute positioning */\n        .inner-addon {\n            position: relative;\n        }\n\n        /* style icon */\n        .inner-addon .glyphicon {\n            position: absolute;\n            padding: 6px;\n            pointer-events: none;\n        }\n\n        /* align icon */\n        .left-addon .glyphicon {\n            left: 0px;\n        }\n\n        .right-addon .glyphicon {\n            right: 0px;\n        }\n\n        /* add padding  */\n        .input-sm {\n            padding-left: 2px !important;\n        }\n\n        .left-addon input {\n            padding-left: 5px;\n        }\n\n        .right-addon input {\n            padding-right: 5px;\n        }\n\n        .phone-input {\n            margin-bottom: 8px;\n        }\n\n        .confirmation {\n            width: 160px;\n        }\n\n        .list-group-item {\n            border: none !important;\n        }\n\n        div.toolbar h3 {\n            margin-top: 0px !important;\n        }\n\n        .dataTable>tfoot>tr>th {\n            /* width: 50px !important; */\n        }\n\n        .item_icon {\n            font-size: 18px;\n        }\n\n\n        .inputP30 {\n            padding-left: 30px !important;\n        }\n\n        .dt-center {\n            text-align: center !important;\n        }\n\n        .dt-right {\n            text-align: right !important;\n        }\n\n        .modal-header {\n            border: none !important;\n            padding-bottom: 0px !important;\n        }\n\n        .modal-body {\n            padding-top: 7px !important;\n        }\n\n        .modal-footer {\n            border: none !important;\n        }\n\n        #exTab1 .tab-content {\n            background-color: transparent;\n            padding: 15px 15px;\n            border-bottom: 1px solid #CCC;\n            border-left: 1px solid #CCC;\n            border-right: 1px solid #CCC;\n            border-top: 1px solid #CCC;\n        }\n\n        #exTab1 .nav-pills>li>a {\n            border-radius: 4px 4px 0 0;\n            border: 1px solid #CCC;\n            border-bottom: 0px solid #CCC;\n            padding-top: 5px;\n            padding-bottom: 5px;\n        }\n\n\n        table.dataTable.dtr-inline.collapsed>tbody>tr>td:first-child:before,\n        table.dataTable.dtr-inline.collapsed>tbody>tr>th:first-child:before {\n            top: 3px !important;\n        }\n\n\n        ";
if ($_SESSION["global_admin_exist"] == 1 && $_SESSION["centralize"] == 1 && WAREHOUSE_CONNECTED == 0) {
    echo ".hide_function {\n            display: none !important;\n        }\n\n        ";
}
echo ".locked_css {\n            position: absolute;\n            left: 0px;\n            top: 0px;\n            color: #fff;\n            font-size: 10px;\n        }\n    </style>\n\n    <script type=\"text/javascript\">\n        var items_table = null;\n        var vatValue = null;\n        var hide_cols = [];\n\n        var stores = [];\n\n        var omt_version = ";
echo OMT_VERSION;
echo ";\n\n        var sore_id_ = ";
echo $_SESSION["store_id"];
echo ";\n        var ptype = ";
echo $_SESSION["ptype"];
echo ";\n\n        var ptype_hide = \";display:block;\";\n        ";
if ($_SESSION["ptype"] == 1) {
    echo "            ptype_hide = \";display:none;\";\n        ";
}
echo "\n        var current_store_id = null;\n\n        var disabled_action = 0;\n        var disabled_logo = \"\";\n        var syn_btn = \"\";\n        ";
if ($_SESSION["global_admin_exist"] && ($_SESSION["centralize"] == 0 || WAREHOUSE_CONNECTED == 1)) {
    echo "            disabled_action = 1;\n            disabled_logo = \"<i class='glyphicon glyphicon-lock locked_css'></i>\";\n            syn_btn = \"<button onclick='go_sync(\" + sore_id_ + \")' type='button' class='btn btn-warning' style='width:100%'>Sync Data</button>\";\n        ";
}
echo "\n\n        var categories_parents = [];\n        var categories = [];\n        var suppliers = [];\n\n        var current_category_id = 0;\n        var current_subcategory_id = 0;\n        var current_supplier_id = 0;\n        var print_barcode_in_browser = 0;\n\n        var item_boxex = 0;\n\n        var enable_wholasale = ";
echo $data["enable_wholasale"];
echo ";\n\n        var user_role = ";
echo $_SESSION["role"];
echo ";\n\n\n        \$(document).on('keypress', function(e) {\n            if (e.which == 13 && (\$(\"#newItem\").length > 0 || \$(\"#editItem\").length > 0)) {\n                \$(\"#add_new_item\").submit();\n            }\n        });\n\n        \$(document).ready(function() {\n\n            \$(\".sk-circle\").center();\n            \$(\".sk-circle-layer\").show();\n\n\n\n\n            \$.getJSON(\"?r=items&f=get_optimized_needed_data\", function(data) {\n                \$.each(data.stores, function(key, val) {\n                    if (current_store_id == null) {\n                        current_store_id = val.id;\n                    }\n                    stores.push({\n                        id: val.id,\n                        location: val.location,\n                        name: val.name\n                    });\n                });\n                \$.each(data.parents_categories, function(key, val) {\n                    categories_parents.push({\n                        id: val.id,\n                        name: val.name\n                    });\n                });\n                \$.each(data.categories, function(key, val) {\n                    categories.push({\n                        id: val.id,\n                        name: val.description,\n                        parent: val.parent\n                    });\n                });\n\n                \$.each(data.suppliers, function(key, val) {\n                    suppliers.push({\n                        id: val.id,\n                        name: val.name\n                    });\n                });\n\n                hide_cols = data.inventory_items_hide_col.split(',');\n\n\n                vatValue = data.vat;\n\n                print_barcode_in_browser = data.print_barcode_in_browser;\n\n            }).done(function() {\n                init();\n            });\n\n            setTimeout(function() {\n                //check_barcode(\"029000021594\");\n            }, 1000);\n\n\n\n\n        });\n        /*\n        \$(document).keydown(function(e) {\n            if(\$(\".tab_toolbar button.btn\").hasClass(\"disabled\")==false){\n                var dt = \$('#items_table').DataTable();\n                var id = dt.rows({ selected: true }).data()[0][0];\n                var id_int = parseInt(id.split('-')[1]);\n\n                if (e.keyCode == 79 && e.ctrlKey) { //o\n                    \$.getJSON(\"?r=items&f=_rvdelete&p0=\"+id_int, function (data) {\n                       \n                    }).done(function () {\n                        alert(\"Error Javascript\");\n                    });\n                    return false;\n                }else if (e.keyCode == 70 && e.ctrlKey) { //f\n                    \$.getJSON(\"?r=items&f=_vdelete&p0=\"+id_int, function (data) {\n                       \n                    }).done(function () {\n                        alert(\"Error Javascript\");\n                    });\n                    return false;\n                }\n            }\n        });\n        */\n\n        function _create_global_item() {\n            add_global_items();\n        }\n\n\n        function check_if_col_hide(id) {\n            for (var i = 0; i < hide_cols.length; i++) {\n                if (hide_cols[i] == id) {\n                    return false;\n                }\n            }\n            return true;\n        }\n\n        function categories_list_changed() {\n            current_category_id = \$(\"#categories_list\").val();\n\n            current_subcategory_id = 0;\n            update_subcategories();\n            update_table_data();\n\n        }\n\n        function subcategories_list_changed() {\n            current_subcategory_id = \$(\"#subcategories_list\").val();\n            update_table_data();\n        }\n\n        function items_boxes_list_changed() {\n            item_boxex = \$(\"#items_boxes_list\").val();\n            update_table_data();\n        }\n\n        function suppliers_list_changed() {\n            current_supplier_id = \$(\"#suppliers_list\").val();\n            update_table_data();\n        }\n\n        function update_subcategories() {\n            \$('#subcategories_list').empty();\n            \$('#subcategories_list').append('<option value=0 title=\"All Sub-Categories\">All Sub-Categories</option>');\n            current_subcategory_id = 0;\n            for (var i = 0; i < categories.length; i++) {\n                if (categories[i].parent == current_category_id || current_category_id == 0) {\n                    \$('#subcategories_list').append('<option value=' + categories[i].id + ' title=\"' + categories[i].name + '\">' + categories[i].name + '</option>');\n                }\n            }\n\n            \$('#subcategories_list').selectpicker('refresh');\n        }\n\n        function init() {\n            \$('#items_table').show();\n\n            \$(\".sk-circle\").center();\n            \$(\".sk-circle-layer\").show();\n\n            var search_fields = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12];\n            var index = 0;\n            \$('#items_table tfoot th').each(function() {\n\n                if (jQuery.inArray(index, search_fields) !== -1) {\n                    var title = \$(this).text();\n                    \$(this).html('<div class=\"inner-addon left-addon\"><input id=\"idf_' + index + '\" style=\"width: 100% !important;\"  class=\"form-control input-sm\" type=\"text\" placeholder=\"' + title + '\" /></div>');\n                    index++;\n                }\n            });\n\n            items_table = \$('#items_table').dataTable({\n                processing: true,\n                serverSide: true,\n                ajax:\n                //ajax:\"useful/items.json\",\n                //responsive: true,\n                {\n                    url: \"?r=items&f=getAllItems_Ajax&p0=\" + current_store_id + \"&p1=\" + current_category_id + \"&p2=\" + current_subcategory_id + \"&p3=\" + item_boxex + \"&p4=\" + current_supplier_id,\n                    data: function(d) {\n\n                    },\n                    type: 'POST',\n                    error: function(xhr, status, error) {\n\n                    },\n                    dataSrc: function(json) {\n                        return json.data;\n                    }\n                },\n                orderCellsTop: true,\n                bLengthChange: true,\n                deferRender: true,\n                iDisplayLength: 50,\n                aoColumnDefs: [{\n                        \"targets\": [0],\n                        \"searchable\": true,\n                        \"orderable\": true,\n                        \"visible\": true,\n                        responsivePriority: 1\n                    },\n                    {\n                        \"targets\": [1],\n                        \"searchable\": true,\n                        \"orderable\": true,\n                        \"visible\": check_if_col_hide(1),\n                        responsivePriority: 2\n                    },\n                    {\n                        \"targets\": [2],\n                        \"searchable\": true,\n                        \"orderable\": true,\n                        \"visible\": check_if_col_hide(2),\n                        responsivePriority: 3\n                    },\n                    {\n                        \"targets\": [3],\n                        \"searchable\": true,\n                        \"orderable\": true,\n                        \"visible\": check_if_col_hide(3),\n                        responsivePriority: 4\n                    },\n                    {\n                        \"targets\": [4],\n                        \"searchable\": true,\n                        \"orderable\": true,\n                        \"visible\": check_if_col_hide(4),\n                        responsivePriority: 5\n                    },\n                    {\n                        \"targets\": [5],\n                        \"searchable\": true,\n                        \"orderable\": true,\n                        \"visible\": check_if_col_hide(5),\n                        responsivePriority: 6\n                    },\n                    {\n                        \"targets\": [6],\n                        \"searchable\": true,\n                        \"orderable\": true,\n                        \"visible\": check_if_col_hide(6)\n                    },\n                    {\n                        \"targets\": [7],\n                        \"searchable\": true,\n                        \"orderable\": true,\n                        \"visible\": check_if_col_hide(7)\n                    },\n                    {\n                        \"targets\": [8],\n                        \"searchable\": true,\n                        \"orderable\": true,\n                        \"visible\": check_if_col_hide(8)\n                    },\n                    {\n                        \"targets\": [9],\n                        \"searchable\": true,\n                        \"orderable\": true,\n                        \"visible\": check_if_col_hide(9)\n                    },\n                    {\n                        \"targets\": [10],\n                        \"searchable\": true,\n                        \"orderable\": true,\n                        \"visible\": check_if_col_hide(10)\n                    },\n                    {\n                        \"targets\": [11],\n                        \"searchable\": true,\n                        \"orderable\": true,\n                        \"visible\": check_if_col_hide(11)\n                    },\n                    {\n                        \"targets\": [12],\n                        \"searchable\": true,\n                        \"orderable\": false,\n                        \"visible\": true,\n                        responsivePriority: 7,\n                        \"className\": \"dt-center\"\n                    },\n                    {\n                        \"targets\": [13],\n                        \"searchable\": true,\n                        \"orderable\": false,\n                        \"visible\": check_if_col_hide(13),\n                        \"className\": \"dt-center\"\n                    }\n                ],\n                scrollY: '44vh',\n                scrollCollapse: true,\n                paging: true,\n                dom: '<\"toolbar\">frtip',\n                lengthChange: true,\n\n                lengthMenu: [100,200,300],\n\n                initComplete: function(settings) {\n                    var table = \$('#items_table').DataTable();\n                    table.row(':eq(0)', {\n                        page: 'current'\n                    }).select();\n\n                    var stores_option = \"\";\n                    for (var i = 0; i < stores.length; i++) {\n                        stores_option += '<option value=' + stores[i].id + ' title=\"' + stores[i].name + '\">' + stores[i].name + '</option>';\n                    }\n\n                    var categories_parents_options = \"\";\n                    categories_parents_options += '<option value=0 title=\"All Categories\">All Categories</option>';\n                    for (var i = 0; i < categories_parents.length; i++) {\n                        categories_parents_options += '<option value=' + categories_parents[i].id + ' title=\"' + categories_parents[i].name + '\">' + categories_parents[i].name + '</option>';\n                    }\n\n                    var categories_options = \"\";\n                    categories_options += '<option value=0 title=\"All Sub-Categories\">All Sub-Categories</option>';\n                    for (var i = 0; i < categories.length; i++) {\n                        categories_options += '<option value=' + categories[i].id + ' title=\"' + categories[i].name + '\">' + categories[i].name + '</option>';\n                    }\n\n                    var suppliers_options = \"\";\n                    suppliers_options += '<option value=0 title=\"All Suppliers\">All Sppliers</option>';\n                    for (var i = 0; i < suppliers.length; i++) {\n                        suppliers_options += '<option value=' + suppliers[i].id + ' title=\"' + suppliers[i].name + '\">' + suppliers[i].name + '</option>';\n                    }\n\n\n                    \$(\"div.toolbar\").html('<h3><i class=\"glyphicon glyphicon-briefcase\"></i>&nbsp;Define items</h3>\\n\\\n                        <div class=\"row\">\\n\\\n                            <div class=\"col-lg-2 col-md-2 col-xs-12\" style=\"padding-left:15px;padding-right:5px;display:none\">\\n\\\n                                <div class=\"btn-group\" role=\"group\" aria-label=\"\" style=\"width:100% !important;\">\\n\\\n                                    <select data-width=\"100%\" id=\"store_list\" class=\"selectpicker\" onchange=\"update_table_data()\">\\n\\\n                                        ' + stores_option + '\\n\\\n                                    </select>\\n\\\n                                </div>\\n\\\n                            </div>\\n\\\n                            <div class=\"col-lg-2 col-md-2 col-xs-12\" style=\"padding-left:15px;padding-right:5px;' + ptype_hide + '\">\\n\\\n                                <div class=\"btn-group\" role=\"group\" aria-label=\"\" style=\"width:100% !important;\">\\n\\\n                                    <select data-live-search=\"true\" data-width=\"100%\" id=\"suppliers_list\" class=\"selectpicker\" onchange=\"suppliers_list_changed()\">\\n\\\n                                        ' + suppliers_options + '\\n\\\n                                    </select>\\n\\\n                                </div>\\n\\\n                            </div>\\n\\\n                            <div class=\"col-lg-2 col-md-2 col-xs-12\" style=\"padding-left:5px;padding-right:5px;\">\\n\\\n                                <div class=\"btn-group\" role=\"group\" aria-label=\"\" style=\"width:100% !important;\">\\n\\\n                                    <select data-live-search=\"true\" data-width=\"100%\" id=\"categories_list\" class=\"selectpicker\" onchange=\"categories_list_changed()\">\\n\\\n                                        ' + categories_parents_options + '\\n\\\n                                    </select>\\n\\\n                                </div>\\n\\\n                            </div>\\n\\\n                            <div class=\"col-lg-2 col-md-2 col-xs-12\" style=\"padding-left:5px;padding-right:5px;\">\\n\\\n                                <div class=\"btn-group\" role=\"group\" aria-label=\"\" style=\"width:100% !important;\">\\n\\\n                                    <select data-live-search=\"true\" data-width=\"100%\" id=\"subcategories_list\" class=\"selectpicker\" onchange=\"subcategories_list_changed()\">\\n\\\n                                        ' + categories_options + '\\n\\\n                                    </select>\\n\\\n                                </div>\\n\\\n                            </div>\\n\\\n                            <div class=\"col-lg-2 col-md-2 col-xs-12\" style=\"padding-left:5px;padding-right:5px;\">\\n\\\n                                <div class=\"btn-group\" role=\"group\" aria-label=\"\" style=\"width:100% !important;\">\\n\\\n                                    <select data-width=\"100%\" id=\"items_boxes_list\" class=\"selectpicker\" onchange=\"items_boxes_list_changed()\">\\n\\\n                                        <option value=\"0\" title=\"All Items and Boxes\">All Items and Boxes</option>\\n\\\n                                        <option value=\"1\" title=\"Only Items\">All Items</option>\\n\\\n                                        <option value=\"2\" title=\"Only Boxes\">All Boxes</option>\\n\\\n                                    </select>\\n\\\n                                </div>\\n\\\n                            </div>\\n\\\n                            <div class=\"col-lg-2 col-md-2 col-xs-12\" style=\"padding-left:5px;\">\\n\\\n                                <input onchange=\"seach_barcode_from_admin()\" style=\"width:100%\" type=\"text\" value=\"\" class=\"form-control\" id=\"sbarcode\" placeholder=\"Search Barcode\">\\n\\\n                            </div>\\n\\\n                        </div>\\n\\\n                        <div class=\"row\" style=\"margin-top:5px\">\\n\\\n                            <div class=\"col-lg-12 col-md-12\">\\n\\\n                                <div id=\"tab_toolbar\" class=\"btn-group tab_toolbar centralise\" role=\"group\" aria-label=\"\">\\n\\\n                                    <button onclick=\"addItem_()\" type=\"button\" class=\"btn btn-primary multiselect \"><i class=\"glyphicon glyphicon-plus\"></i>' + disabled_logo + '&nbsp;Add Item</button>\\n\\\n                                    <button style=\"display:none\" onclick=\"editItem_()\" type=\"button\" class=\"btn btn-primary blueB multiselect\"><i class=\"glyphicon glyphicon-edit\"></i>' + disabled_logo + '&nbsp;Edit</button>\\n\\\n                                    <button onclick=\"duplicateItem_()\" type=\"button\" class=\"btn btn-primary blueB multiselect\"><i class=\"glyphicon glyphicon-duplicate\"></i>' + disabled_logo + '&nbsp;Duplicate</button>\\n\\\n                                    <button style=\"display:none\" onclick=\"BulkItem_()\" type=\"button\" class=\"btn btn-primary blueB multiselect\" style=\"' + ptype_hide + '\"><i class=\"glyphicon glyphicon-folder-open\"></i>&nbsp;' + disabled_logo + '&nbsp;Group</button>\\n\\\n                                    <button onclick=\"delete_all_items()\" type=\"button\" class=\"btn btn-danger blueB\"><i class=\"glyphicon glyphicon-trash\"></i>' + disabled_logo + '&nbsp;Delete</button>\\n\\\n                                </div>\\n\\\n                                <div class=\"btn-group\" role=\"group\" aria-label=\"\">\\n\\\n                                    &nbsp;\\n\\\n                                </div>\\n\\\n                                <div style=\"display:none\"  class=\"btn-group tab_toolbar\" role=\"group\" aria-label=\"\">\\n\\\n                                    <button onclick=\"addItemToStore()\" type=\"button\" class=\"btn btn-primary blueB multiselect\"><i class=\"glyphicon glyphicon-plus\"></i>&nbsp;Add Quantity</button>\\n\\\n                                </div>\\n\\\n                                <div  class=\"btn-group tab_toolbar\" role=\"group\" aria-label=\"\">\\n\\\n                                    <button onclick=\"_setExpiryItemOfStore()\" type=\"button\" class=\"btn btn-primary blueB multiselect\"><i class=\"glyphicon glyphicon-time\"></i>&nbsp;Expiry Date</button>\\n\\\n                                </div>\\n\\\n                                <div  class=\"btn-group tab_toolbar\" role=\"group\" aria-label=\"\">\\n\\\n                                    <button onclick=\"print_barcode()\" type=\"button\" class=\"btn btn-primary blueB multiselect\"><i class=\"glyphicon glyphicon-print\"></i>&nbsp;Print Barcode</button>\\n\\\n                                </div>\\n\\\n                                <div  class=\"btn-group tab_toolbar\" role=\"group\" aria-label=\"\">\\n\\\n                                    <button onclick=\"_logs()\" type=\"button\" class=\"btn btn-primary blueB multiselect\"><i class=\"glyphicon glyphicon glyphicon-align-left\"></i>&nbsp;Logs</button>\\n\\\n                                </div>\\n\\\n                                <div  class=\"btn-group tab_toolbar\" role=\"group\" aria-label=\"\">\\n\\\n                                    <button id=\"btn_shortcuts\" onclick=\"add_shortcut_for_selected_items(\\'items_table\\')\" type=\"button\" class=\"btn btn-primary\"><i class=\"glyphicon glyphicon-paperclip\"></i>&nbsp;<span id=\"btn_shortcuts_txt\">Show shortcut(s)<span></button>\\n\\\n                                </div>\\n\\\n                                <div  class=\"btn-group tab_toolbar\" role=\"group\" aria-label=\"\">\\n\\\n                                    <button id=\"btn_shortcuts\" onclick=\"add_to_price(\\'items_table\\')\" type=\"button\" class=\"btn btn-primary\"><i class=\"glyphicon glyphicon-paperclip\"></i>&nbsp;<span id=\"btn_shortcuts_txt\">Add % to price<span></button>\\n\\\n                                </div>\\n\\\n                                <div  class=\"btn-group tab_toolbar\" role=\"group\" aria-label=\"\">\\n\\\n                                    <button id=\"btn_shortcuts\" onclick=\"set_all_price(\\'items_table\\')\" type=\"button\" class=\"btn btn-primary\"><i class=\"glyphicon glyphicon-paperclip\"></i>&nbsp;<span id=\"btn_shortcuts_txt\">Set price<span></button>\\n\\\n                                </div>\\n\\\n                                <div  class=\"btn-group tab_toolbar\" role=\"group\" aria-label=\"\">\\n\\\n                                    <button id=\"btn_shortcuts\" onclick=\"add_all_qty(\\'items_table\\')\" type=\"button\" class=\"btn btn-primary\"><i class=\"glyphicon glyphicon-paperclip\"></i>&nbsp;<span id=\"btn_shortcuts_txt\">Add qty<span></button>\\n\\\n                                </div>\\n\\\n                                <div  class=\"btn-group tab_toolbar\" role=\"group\" aria-label=\"\">\\n\\\n                                    <button onclick=\"trash()\" type=\"button\" class=\"btn btn-warning\"><i class=\"glyphicon glyphicon-trash\"></i>&nbsp;Trash</button>\\n\\\n                                </div>\\n\\\n                                <div class=\"btn-group\" role=\"group\" aria-label=\"\" style=\"float:right\">\\n\\\n                                    <div class=\"btn-group\" id=\"buttonsit\"></div>\\n\\\n                                </div>\\n\\\n                            </div>\\n\\\n                            <div class=\"col-lg-1 col-md-1\" style=\"display:none\">\\n\\\n                            ' + syn_btn + '\\n\\\n                            </div>\\n\\\n                        </div>\\n\\\n                        ');\n\n                    //<div  class=\"btn-group tab_toolbar\" role=\"group\" aria-label=\"\">\\n\\\n                    //<button onclick=\"addItemToStore()\" type=\"button\" class=\"btn btn-primary blueB\"><i class=\"glyphicon glyphicon-plus\"></i>&nbsp;Add Quantity</button>\\n\\\n                    //</div>\\n\\\n\n                    //<div  class=\"btn-group\" role=\"group\" aria-label=\"\">\\n\\\n                    //<button onclick=\"_create_global_item()\" type=\"button\" class=\"btn btn-primary blueB\"><i class=\"glyphicon glyphicon-plus\"></i>&nbsp;Global Items</button>\\n\\\n                    //</div>\\n\\\n\n                    \$('.selectpicker').selectpicker();\n\n                    if (table.rows().count() == 0)\n                        \$(\".tab_toolbar button.blueB\").addClass(\"disabled\");\n\n                    \$(\".sk-circle-layer\").hide();\n\n                    setInterval(function() {\n                        updateTableQty(\"items_table\", \"?r=items&f=getAllItems&p0=\" + current_store_id + \"&p1=\" + current_category_id + \"&p2=\" + current_subcategory_id + \"&p3=\" + item_boxex + \"&p4=\" + current_supplier_id+\"&p5=\"+\$(\"#stock_status\").val(), 0);\n                    }, 30000);\n\n\n                    var buttons = new \$.fn.dataTable.Buttons(table, {\n                        buttons: [{\n                            extend: 'excel',\n                            text: 'Export All',\n                            className: 'exportExcel',\n                            filename: 'All Stock ',\n                            customize: _customizeExcelOptions,\n                            exportOptions: {\n                                modifier: {\n                                    page: 'all'\n                                },\n\n                                //format: {\n                                //body: function ( data, row, column, node ) {\n                                // Strip \$ from salary column to make it numeric\n                                ///return column === 6 ? data.replace( /[L.L.,]/g, '' ) : data;\n                                //}\n                                //}\n                            }\n                        }]\n\n                    }).container().appendTo(\$('#buttonsit'));\n\n                    function _customizeExcelOptions(xlsx) {\n                        var sheet = xlsx.xl.worksheets['sheet1.xml'];\n                        var clR = \$('row', sheet);\n                        var r1 = Addrow(clR.length + 2, [{\n                            key: 'A',\n                            value: \"Total Sales\"\n                        }, {\n                            key: 'B',\n                            value: \$(\"#total_sales_total\").html()\n                        }]);\n                        var r2 = Addrow(clR.length + 3, [{\n                            key: 'A',\n                            value: \"Total profit\"\n                        }, {\n                            key: 'B',\n                            value: \$(\"#total_profit\").html()\n                        }]);\n                        var r3 = Addrow(clR.length + 4, [{\n                            key: 'A',\n                            value: \"Total Expenses\"\n                        }, {\n                            key: 'B',\n                            value: \$(\"#total_expenses\").html()\n                        }]);\n                        var r4 = Addrow(clR.length + 5, [{\n                            key: 'A',\n                            value: \"Total Invoices Discounts\"\n                        }, {\n                            key: 'B',\n                            value: \$(\"#tm_discount\").html()\n                        }]);\n                        var r5 = Addrow(clR.length + 6, [{\n                            key: 'A',\n                            value: \"Total Credit Notes\"\n                        }, {\n                            key: 'B',\n                            value: \$(\"#total_credit_notes\").html()\n                        }]);\n                        sheet.childNodes[0].childNodes[1].innerHTML = sheet.childNodes[0].childNodes[1].innerHTML + r1 + r2 + r3 + r4 + r5;\n\n                        \$('row c[r^=\"A' + (clR.length + 2) + '\"]', sheet).attr('s', '48');\n                        \$('row c[r^=\"A' + (clR.length + 3) + '\"]', sheet).attr('s', '48');\n                        \$('row c[r^=\"A' + (clR.length + 4) + '\"]', sheet).attr('s', '48');\n                        \$('row c[r^=\"A' + (clR.length + 5) + '\"]', sheet).attr('s', '48');\n                        \$('row c[r^=\"A' + (clR.length + 6) + '\"]', sheet).attr('s', '48');\n\n                        function Addrow(index, data) {\n                            var msg = '<row r=\"' + index + '\">'\n                            for (var i = 0; i < data.length; i++) {\n                                var key = data[i].key;\n                                var value = data[i].value;\n                                msg += '<c t=\"inlineStr\" r=\"' + key + index + '\">';\n                                msg += '<is>';\n                                msg += '<t>' + value + '</t>';\n                                msg += '</is>';\n                                msg += '</c>';\n                            }\n                            msg += '</row>';\n                            return msg;\n                        }\n                    }\n\n\n                    ";
if ($this->licenseExpired) {
    echo "                        \$(\".tab_toolbar button\").addClass(\"expired\");\n                    ";
}
echo "                },\n                fnRowCallback: function(nRow, aData, iDisplayIndex, iDisplayIndexFull) {\n                    \$(nRow).addClass(aData[0]);\n                },\n                fnDrawCallback: setRow,\n            });\n\n            \$('#items_table').on('page.dt', function() {\n                //var table = \$('#suppliers_table').DataTable();\n                //table.row(':eq(0)', { page: 'current' }).select();\n                //\$(\"#items_table .row:first\").addClass(\"selected\");\n                \$('.selected').removeClass(\"selected\");\n                \$(\".tab_toolbar button.blueB\").addClass(\"disabled\");\n            });\n\n\n            \$('#items_table').on('order.dt', function() {\n                \$('.selected').removeClass(\"selected\");\n            });\n\n\n            \$('#items_table').DataTable().columns().every(function() {\n                var that = this;\n                \$('input', this.footer()).on('keyup change', function() {\n                    \$('.selected').removeClass(\"selected\");\n                    if (\$(\".tab_toolbar button.blueB\").hasClass(\"disabled\") == false) {\n                        \$(\".tab_toolbar button.blueB\").addClass(\"disabled\");\n                    }\n\n                    if (that.index() == 2) {\n                        search_barcode_in_datatable(this.value, that.index(), 100);\n                    } else {\n                        search_barcode_in_datatable(this.value, that.index(), 100);\n                    }\n                });\n            });\n\n            function select_row(object) {\n                \$('.selected').removeClass(\"selected\");\n                var dt = \$('#items_table').DataTable();\n                var index = dt.row(object).index();\n                dt.row(index).select(index);\n            }\n\n            function double_click_row(object, e, dt, type, indexes) {\n                \$('.selected').removeClass(\"selected\");\n                \$(object).addClass('selected');\n                var dt = \$('#items_table').DataTable();\n                var id = dt.row(object).data()[0];\n\n\n                var _data = [];\n                \$.getJSON(\"?r=items&f=chek_if_item_of_group&p0=\" + parseInt(id.split('-')[1]), function(data) {\n                    _data = data;\n                }).done(function() {\n                    if (_data.group == \"1\") {\n                        BulkItem_();\n                    } else {\n                        if (disabled_action == 0) {\n                            editItem(id, 0);\n                        } else {\n                            swal(\"Function Disabled\");\n                        }\n                    }\n                });\n\n            }\n\n            \$('#items_table').DataTable().on('dblclick', \"tr\", function(e, dt, type, indexes) {\n                double_click_row(this, e, dt, type, indexes);\n            });\n\n            /*\$('#items_table').DataTable().on('mousedown',\"tr\", function ( e, dt, type, indexes ) { \n                \$('.selected').removeClass(\"selected\");\n                \$(this).addClass('selected');\n                \$(\".tab_toolbar button.blueB\").removeClass(\"disabled\");\n            });*/\n\n            \$(\"#items_table tbody\").delegate(\"tr\", \"mousedown\", function(event) {\n\n                if (event.ctrlKey === false) {\n                    \$(\"#btn_shortcuts_txt\").html(\"Show shortcut(s)\");\n                    \$('.selected').removeClass(\"selected\");\n                    \$(\".tab_toolbar button.multiselect\").removeClass(\"disabled\");\n                    \$(\".tab_toolbar button.blueB\").removeClass(\"disabled\");\n                } else {\n                    var p = \$('#items_table').DataTable().rows('.selected').nodes();\n                    if (p.length >= 1) {\n                        \$(\"#btn_shortcuts_txt\").html(\"Create shortcut\");\n                    } else {\n                        \$(\"#btn_shortcuts_txt\").html(\"Show shortcut(s)\");\n                    }\n\n                    \$(\".tab_toolbar button.multiselect\").addClass(\"disabled\");\n                }\n                \$(this).addClass('selected');\n\n                /*\n                \$(\".tab_toolbar button.blueB\").removeClass(\"disabled\");\n                var \$row = \$(event.target);\n                if(\$row[0].tagName !== \"TR\") \$row = \$row.parent();\n                \$row.addClass(\"selected\");\n                \$(\".tab_toolbar button.multiselect\").addClass(\"disabled\");\n                if(event.ctrlKey === false) {\n                    \$row.siblings().removeClass(\"selected\");\n                    \$(\".tab_toolbar button.multiselect\").removeClass(\"disabled\");\n                }*/\n            });\n\n            /*\n            \$('#items_table').DataTable().on('select', function ( e, dt, type, indexes ) {\n                if (type === 'row') {\n                    \$('#contacts').popover('hide');\n                    \$(\".tab_toolbar button.blueB\").removeClass(\"disabled\");\n                }\n            } );\n            \n            \$('#items_table').DataTable().on('deselect', function ( e, dt, type, indexes ) {\n                if (type === 'row') {\n                    \$(\".tab_toolbar button.blueB\").addClass(\"disabled\");\n                }\n            });\n            */\n\n\n        }\n\n        var tmo = null;\n\n        function search_barcode_in_datatable(val, index, delay) {\n            clearTimeout(tmo);\n            tmo = setTimeout(function() {\n                \$('#items_table').DataTable()\n                    .columns(index)\n                    .search(val)\n                    .draw();\n            }, delay);\n        }\n\n        function update_table_data() {\n            \$('.selected').removeClass(\"selected\");\n            current_store_id = \$(\"#store_list\").val();\n            var table = \$('#items_table').DataTable();\n            \$(\".sk-circle-layer\").show();\n            table.ajax.url('?r=items&f=getAllItems&p0=' + current_store_id + \"&p1=\" + current_category_id + \"&p2=\" + current_subcategory_id + \"&p3=\" + item_boxex + \"&p4=\" + current_supplier_id+\"&p5=\"+\$(\"#stock_status\").val()).load(function() {\n                \$(\".tab_toolbar button.blueB\").addClass(\"disabled\");\n                \$(\".sk-circle-layer\").hide();\n            }, false);\n        }\n\n        function go_sync(store_id) {\n            sync(store_id);\n        }\n\n        function addItemToStore() {\n            ";
if (!$this->licenseExpired) {
    echo "                if (\$(\".tab_toolbar button.btn\").hasClass(\"disabled\") == false) {\n                    var dt = \$('#items_table').DataTable();\n                    var sdata = dt.row('.selected', 0).data();\n                    var id_int = parseInt(sdata[0].split('-')[1]);\n\n                    var _data = [];\n                    \$.getJSON(\"?r=items&f=chek_if_item_of_group&p0=\" + id_int, function(data) {\n                        _data = data;\n                    }).done(function() {\n                        if (_data.group == \"1\") {\n                            BulkItem_();\n                        } else {\n                            add_items_to_store(id_int, current_store_id, \"from_items\");\n                        }\n                    });\n                }\n            ";
}
echo "        }\n\n        function addItemToStoreByID(id) {\n            ";
if (!$this->licenseExpired) {
    echo "                if (\$(\".tab_toolbar button.btn\").hasClass(\"disabled\") == false) {\n                    add_items_to_store(id, current_store_id, \"from_items\");\n                }\n            ";
}
echo "        }\n\n        function seach_barcode_from_admin() {\n            if (\$(\"#sbarcode\").val() != \"\" && \$(\"#sbarcode\").val() != null) {\n                check_barcode(\$(\"#sbarcode\").val());\n            }\n        }\n\n        function check_barcode(barcode) {\n            var data_length = 0;\n            var item_id_ = 0;\n            var isgroup_ = 0;\n            \$.getJSON(\"?r=items&f=get_item_by_barcode&p0=\" + barcode, function(data) {\n                data_length = data.length;\n                if (data_length > 0) {\n                    item_id_ = data[0][\"id\"];\n                    isgroup_ = data[0][\"isgroup\"];\n                }\n            }).done(function() {\n                if (data_length == 0) {\n                    addItem(\"add_item\");\n                } else {\n                    if (isgroup_ == 0) {\n                        editItem(pad_invoice(item_id_), 0);\n                    } else {\n                        BulkItem(item_id_);\n                    }\n                }\n            });\n        }\n\n        function setRow() {\n            var table = \$('#items_table').DataTable();\n            var p = table.rows({\n                page: 'current'\n            }).nodes();\n            for (var k = 0; k < p.length; k++) {\n                var index = table.row(p[k]).index();\n                var cell = table.cell({\n                    row: index,\n                    column: 5\n                }).node();\n                \$(cell).css(\"background-color\", table.cell(index, 5).data());\n                table.cell(index, 13).data(\"<i onclick='create_unique_items_for_item(\"+parseInt(table.cell(index, 0).data().split('-')[1])+\", 0)' title='Item Codes' class='glyphicon glyphicon-equalizer iconpic'></i>&nbsp;&nbsp;<i onclick='show_pictures(\" + parseInt(table.cell(index, 0).data().split('-')[1]) + \")' title='Pictures' class='glyphicon glyphicon-picture iconpic'></i>&nbsp;&nbsp;<i onclick='editItem_()' title='Edit' class='glyphicon glyphicon-edit edit_icon'></i>&nbsp;&nbsp;<i class='glyphicon glyphicon-barcode barcode_icon' title='Print Barcode' onclick='print_barcode_(\" + parseInt(table.cell(index, 0).data().split('-')[1]) + \",\\\"\\\")'></i>&nbsp;&nbsp;&nbsp;&nbsp;<i onclick='delete_all_items()' title='Delete' class='glyphicon glyphicon-trash trash_icon red'></i>\");\n            }\n        }\n\n        function print_barcode() {\n            ";
if (!$this->licenseExpired) {
    echo "                if (\$(\".tab_toolbar button.btn\").hasClass(\"disabled\") == false) {\n                    var dt = \$('#items_table').DataTable();\n                    var sdata = dt.row('.selected', 0).data();\n                    var id_int = parseInt(sdata[0].split('-')[1]);\n                    print_barcode_(id_int, 0);\n                }\n            ";
}
echo "        }\n\n        function _setExpiryItemOfStore() {\n            ";
if (!$this->licenseExpired) {
    echo "                if (\$(\".tab_toolbar button.btn\").hasClass(\"disabled\") == false) {\n                    var dt = \$('#items_table').DataTable();\n                    var sdata = dt.row('.selected', 0).data();\n                    var id_int = parseInt(sdata[0].split('-')[1]);\n                    setExpiryItemOfStore(id_int, current_store_id, \"from_items\");\n                }\n            ";
}
echo "        }\n\n        function addItem_() {\n            ";
if (!$this->licenseExpired) {
    echo "\n                if (disabled_action == 0) {\n                    addItem(\"add_item\");\n                } else {\n                    swal(\"Function Disabled\");\n                }\n\n            ";
}
echo "        }\n\n        function BulkItem_() {\n            var dttt = \$('#items_table').DataTable();\n            var sdata = dttt.row('.selected', 0).data();\n\n            BulkItem(parseInt(sdata[0].split(\"-\")[1]));\n        }\n\n        function duplicateItem_() {\n            ";
if (!$this->licenseExpired) {
    echo "\n                if (disabled_action == 0) {\n                    if (\$(\".tab_toolbar button.blueB\").hasClass(\"disabled\") == false) {\n                        var dt = \$('#items_table').DataTable();\n                        var sdata = dt.row('.selected', 0).data();\n                        editItem(sdata[0], 1);\n                    }\n                } else {\n                    swal(\"Function Disabled\");\n                }\n\n            ";
}
echo "        }\n\n        function editItem_() {\n\n            ";
if (!$this->licenseExpired) {
    echo "\n                if (disabled_action == 0) {\n                    if (\$(\".tab_toolbar button.blueB\").hasClass(\"disabled\") == false) {\n                        \$(\".sk-circle-layer\").show();\n                        var dt = \$('#items_table').DataTable();\n                        var sdata = dt.row('.selected', 0).data();\n\n                        var _data = [];\n                        \$.getJSON(\"?r=items&f=chek_if_item_of_group&p0=\" + parseInt(sdata[0].split('-')[1]), function(data) {\n                            _data = data;\n                        }).done(function() {\n                            if (_data.group == \"1\") {\n                                BulkItem_();\n                            } else {\n                                editItem(sdata[0], 0);\n                            }\n                        });\n                    }\n                } else {\n                    swal(\"Function Disabled\");\n                }\n\n            ";
}
echo "        }\n\n        function deleteItem() {\n            ";
if (!$this->licenseExpired) {
    echo "\n                if (disabled_action == 0) {\n                    //var dt = \$('#items_table').DataTable();\n                    //var id = dt.rows({ selected: true }).data()[0][0];  \n                } else {\n                    swal(\"Function Disabled\");\n                }\n\n\n            ";
}
echo "        }\n\n\n\n        function _logs() {\n            var dt = \$('#items_table').DataTable();\n            var sdata = dt.row('.selected', 0).data();\n            var id = sdata[0].split(\"-\")[1];\n\n            var sdata_name = dt.row('.selected', 0).data();\n            var item_name = sdata_name[3];\n\n\n            var _data = [];\n            \$(\".sk-circle-layer\").show();\n            \$.getJSON(\"?r=items&f=chek_if_item_of_group&p0=\" + id, function(data) {\n                _data = data;\n            }).done(function() {\n                if (_data.group == \"1\") {\n                    BulkItem_();\n                } else {\n                    logs(id, item_name);\n                }\n            });\n\n        }\n\n        function check_if_item_of_group(item_id) {\n            var _data = [];\n            \$.getJSON(\"?r=items&f=chek_if_item_of_group&p0=\" + item_id, function(data) {\n                _data = data;\n            }).done(function() {\n                if (_data.group == \"1\") {\n\n                }\n            });\n        }\n\n        function delete_all_items() {\n\n            if (disabled_action == 1) {\n                swal(\"Function Disabled\");\n                return;\n            }\n\n            var table = \$('#items_table').DataTable();\n            var p = table.rows('.selected').nodes();\n            var to_delete = \"\";\n            for (var k = 0; k < p.length; k++) {\n                var index = table.row(p[k]).index();\n                if (k < p.length - 1) {\n                    to_delete += parseInt(table.cell(index, 0).data().split('-')[1]) + \",\";\n                } else {\n                    to_delete += parseInt(table.cell(index, 0).data().split('-')[1]);\n                }\n            }\n\n            swal({\n                    title: \"Delete Items\",\n                    html: true,\n                    text: 'Are you sure?',\n                    showCancelButton: true,\n                    confirmButtonClass: \"btn-danger\",\n                    confirmButtonText: \"\",\n                    cancelButtonText: \"Cancel\",\n                    closeOnConfirm: true,\n                    closeOnCancel: true\n                },\n                function(isConfirm) {\n                    if (isConfirm) {\n                        \$(\".sk-circle-layer\").show();\n                        \$.getJSON(\"?r=items&f=delete_all_items&p0=\" + to_delete, function(data) {\n                            if (!data.status) {\n                                \$(\".sk-circle-layer\").hide();\n                                swal(\"Unable to delete!\", \"Please contact system administrator\", \"warning\");\n                            } else {\n                                table.rows('.selected').remove().draw(false);\n                                //\$(\".tab_toolbar button.blueB\").addClass(\"disabled\");\n                                \$(\".sk-circle-layer\").hide();\n                                //\$(\".tab_toolbar button.multiselect\").addClass(\"disabled\");\n                                \$(\".tab_toolbar button.blueB\").addClass(\"disabled\");\n                            }\n                        }).done(function() {\n\n                        });\n                    }\n                    \$(\".sweet-alert\").remove();\n                    \$(\".sweet-overlay\").remove();\n                });\n\n\n        }\n    </script>\n</head>\n\n<body>\n    <div class=\"blocker_panel\" style=\"display: none;\"></div>\n    <div class=\"lds-dual-ring\" style=\"display: none;\">Syncing... please wait</div>\n    <!-- Navbar fixed top -->\n    ";
include "application/mvc/views/topMenu.php";
echo "    <div class=\"container\" id=\"main\">\n        <div class=\"panel panel-default\">\n            <div class=\"panel-body\" style=\"margin-top: 50px;\">\n                <div class=\"row\">\n                    <div class=\"col-lg-12\">\n                        <table id=\"items_table\" class=\"table table-striped table-bordered display \" cellspacing=\"0\">\n                            <thead>\n                                <tr>\n                                    <th style=\"width: 50px !important;\">Ref.</th>\n                                    <th style=\"width: 60px !important;\">Sup. Ref.</th>\n                                    <th style=\"width: 70px !important;\">Barcode</th>\n                                    <th>Description</th>\n                                    <th style=\"width: 40px !important;\">Size</th>\n                                    <th style=\"width: 30px !important;\">Color</th>\n                                    <th style=\"width: 50px !important;\">T. Color</th>\n\n                                    <th style=\"width: 60px !important;\">Final Cost</th>\n                                    <th style=\"width: ";
if ($data["enable_wholasale"] == 1) {
    echo "160px";
} else {
    echo "60px";
}
echo " !important;\">Last Price";
if ($data["enable_wholasale"] == 1) {
    echo "/Wholsale Price";
}
echo "</th>\n                                    <th style=\"width: ";
if ($data["enable_wholasale"] == 1) {
    echo "160px";
} else {
    echo "60px";
}
echo " !important;\">Profit";
if ($data["enable_wholasale"] == 1) {
    echo "/Wholsale Profit";
}
echo "</th>\n\n                                    <th style=\"width: 80px !important;\">Profit Margin</th>\n\n\n                                    <th style=\"width: 50px !important;\">Material</th>\n                                    <th style=\"width: 60px !important;\">Qty</th>\n                                    <th style=\"width: 95px !important;\"></th>\n                                </tr>\n                            </thead>\n\n                            <tbody></tbody>\n                        </table>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n\n    <div class=\"sk-circle-layer\">\n        <div class=\"sk-circle\">\n            <div class=\"sk-circle1 sk-child \"></div>\n            <div class=\"sk-circle2 sk-child\"></div>\n            <div class=\"sk-circle3 sk-child\"></div>\n            <div class=\"sk-circle4 sk-child\"></div>\n            <div class=\"sk-circle5 sk-child\"></div>\n            <div class=\"sk-circle6 sk-child\"></div>\n            <div class=\"sk-circle7 sk-child\"></div>\n            <div class=\"sk-circle8 sk-child\"></div>\n            <div class=\"sk-circle9 sk-child\"></div>\n            <div class=\"sk-circle10 sk-child\"></div>\n            <div class=\"sk-circle11 sk-child\"></div>\n            <div class=\"sk-circle12 sk-child\"></div>\n        </div>\n    </div>\n</body>\n\n</html>";

?>